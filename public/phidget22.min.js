"use strict";(function(){function t(){return Date.now()-g}function e(e){0===T&&console.log("debug("+t()+"): "+e)}function n(t){for(var e=0,n=new Uint8Array(4*t.length),i=0;i!=t.length;i++){var a=t.charCodeAt(i);if(a<128)n[e++]=a;else{if(a<2048)n[e++]=a>>6|192;else{if(a>55295&&a<56320){if(++i==t.length)throw"UTF-8 encode: incomplete surrogate pair";var r=t.charCodeAt(i);if(r<56320||r>57343)throw"UTF-8 encode: second char code 0x"+r.toString(16)+" at index "+i+" in surrogate pair out of range";a=65536+((1023&a)<<10)+(1023&r),n[e++]=a>>18|240,n[e++]=a>>12&63|128}else n[e++]=a>>12|224;n[e++]=a>>6&63|128}n[e++]=63&a|128}}return n.subarray(0,e)}function i(t){for(var e="",n=0;n<t.length;){var i=t[n++];if(i>127){if(i>191&&i<224){if(n>=t.length)throw"UTF-8 decode: incomplete 2-byte sequence";i=(31&i)<<6|63&t[n]}else if(i>223&&i<240){if(n+1>=t.length)throw"UTF-8 decode: incomplete 3-byte sequence";i=(15&i)<<12|(63&t[n])<<6|63&t[++n]}else{if(!(i>239&&i<248))throw"UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1);if(n+2>=t.length)throw"UTF-8 decode: incomplete 4-byte sequence";i=(7&i)<<18|(63&t[n])<<12|(63&t[++n])<<6|63&t[++n]}++n}if(i<=65535)e+=String.fromCharCode(i);else{if(!(i<=1114111))throw"UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach";i-=65536,e+=String.fromCharCode(i>>10|55296),e+=String.fromCharCode(1023&i|56320)}}return e}var a=("undefined"!=typeof require,"undefined"!=typeof module&&module.exports);if(a)var r=require("url"),o=require("net"),s=require("crypto"),h=require("btoa");String.startsWith||(String.prototype.startsWith=function(t){return 0===this.indexOf(t)});var c={},p=1,u={},d=1,l={},E=1,g=Date.now(),T=1,N=function(){function g(t,e){return Math.floor(Math.random()*(e-t))+t}function T(t){if(a){var e=s.randomBytes(t);return h(e).substring(t)}var e=new Int8Array(t);if(window.crypto)window.crypto.getRandomValues(e);else if(window.msCrypto)window.msCrypto.getRandomValues(e);else{Math.seedrandom();for(var n=0;n<t;n++)e[n]=g(0,256)}return window.btoa(e.buffer).substring(t)}function N(t,e){return Promise.reject(new _t(t,e))}function v(t){var e=mt[t].substring(7);return _[e]?_[e]:null}function f(t){for(var e in c)if(c[e].matchPhidget(t))return}function A(t){for(var e in u){var n=u[e];if(n.attaching!==!0&&n.isopen!==!0)if(void 0===t){if(f(n)===!0)return}else if(t.match(n))return void t.open(n)["catch"](function(t){this.onError?this.onError(t.errorCode,t.message):console.error(t)}.bind(n))}}function y(t){var e=St[t.type];for(var n in e)if(n=e[n],!(n.v[0]>t.version||n.v[1]<=t.version)){if("VINT"===t.type){if(n.i!==t.vintID)continue}else{if(n.i!==t.productID)continue;if(void 0!==n.n&&n.n!=t.interfaceNum)continue}return n}throw new _t(V.UNEXPECTED,"Couldn't find device in device list!!")}function P(t,e){var n=0;for(var i in t.phiddev.ch){if(i=t.phiddev.ch[i],e.uniqueIndex<n+i.n)return i;n+=i.n}throw new _t(V.UNEXPECTED,"Couldn't find channel in channel list!!")}var _={},C="jPhidget";if(a)var O="www,nodejs";else var O="www";var I=2,m=0,S="phidgetclient",D={Connect:10,Command:20,Device:30},L={HandShakeC0:10,HandShakeS0:11,AuthC0:30,AuthS0:31,AuthC1:32,AuthS1:33,Reply:40,KeepAlive:41,Attach:50,Detach:55,Open:60,Close:65,BridgePkt:70,Channel:80},U={Magic:1346914608,Request:1,Reply:2,Event:4},w={BOOL:2,INT8:127,UINT8:255,INT16:32767,UINT16:65535,INT32:2147483647,UINT32:4294967295,INT64:0x8000000000000000,UINT64:0x10000000000000000,DBL:1e300,FLT:1e30,ENUM:2147483647,SIZE:0x10000000000000000};setInterval(function(){A()},1e3),setInterval(function(){for(var e in u){var n=u[e];n.isopen||void 0!=n.openTimeout&&t()-n.openTime>n.openTimeout&&n.openTimedOut()}},500),_.getLibraryVersion=function(){return"Phidget22 1.7"},_.getJSLibraryVersion=function(){return"2.x.x"},_.Connections=c;var R=function(t,e,n,i,a,r){"undefined"!=typeof r?this.buffer=this.render(t,e,n,i,a,r):"undefined"!=typeof t&&(this.hdrlen=this.parse(t))};R.prototype.toString=function(){return"{flags:0x"+this.flags.toString(16)+" len:"+this.len+" reqseq:"+this.reqseq+" repseq:"+this.repseq+" type:"+this.type+" subtype:"+this.stype+"}"},R.prototype.parse=function(t){if(this.magic=t[3]<<24|t[2]<<16|t[1]<<8|t[0],this.len=t[7]<<24|t[6]<<16|t[5]<<8|t[4],this.flags=t[9]<<8|t[8],this.reqseq=t[11]<<8|t[10],this.repseq=t[13]<<8|t[12],this.type=t[14],this.stype=t[15],this.magic!=U.Magic)throw"Bad Request Magic";return 16},R.prototype.render=function(t,e,n,i,a,r){var o=new Uint8Array(16);return o[3]=U.Magic>>24&255,o[2]=U.Magic>>16&255,o[1]=U.Magic>>8&255,o[0]=255&U.Magic,o[7]=t>>24&255,o[6]=t>>16&255,o[5]=t>>8&255,o[4]=255&t,o[9]=e>>8&255,o[8]=255&e,o[11]=n>>8&255,o[10]=255&n,o[13]=i>>8&255,o[12]=255&i,o[14]=a,o[15]=r,o};var B={PUSH_PULL:1,LINE_DRIVER_2K2:2,LINE_DRIVER_10K:3,OPEN_COLLECTOR_2K2:4,OPEN_COLLECTOR_10K:5};_.EncoderIOMode=B;var V={SUCCESS:0,NOT_PERMITTED:1,NO_SUCH_ENTITY:2,TIMEOUT:3,KEEP_ALIVE:58,INTERRUPTED:4,IO:5,NO_MEMORY:6,ACCESS:7,FAULT:8,BUSY:9,EXISTS:10,IS_NOT_DIRECTORY:11,IS_DIRECTORY:12,INVALID:13,TOO_MANY_FILES_SYSTEM:14,TOO_MANY_FILES:15,NO_SPACE:16,FILE_TOO_BIG:17,READ_ONLY_FILESYSTEM:18,READ_ONLY:19,UNSUPPORTED:20,INVALID_ARGUMENT:21,TRY_AGAIN:22,NOT_EMPTY:26,UNEXPECTED:28,DUPLICATE:27,BAD_PASSWORD:37,NETWORK_UNAVAILABLE:45,CONNECTION_REFUSED:35,CONNECTION_RESET:46,HOST_UNREACHABLE:48,NO_SUCH_DEVICE:40,WRONG_DEVICE:50,BROKEN_PIPE:41,NAME_RESOLUTION_FAILURE:44,UNKNOWN_VALUE:51,NOT_ATTACHED:52,INVALID_PACKET:53,TOO_BIG:54,BAD_VERSION:55,CLOSED:56,NOT_CONFIGURED:57,END_OF_FILE:31,FAILSAFE:59};_.ErrorCode=V;var k={BAD_VERSION:1,BUSY:2,NETWORK:3,DISPATCH:4,FAILURE:5,SUCCESS:4096,OVERRUN:4098,PACKET_LOST:4099,WRAP_AROUND:4100,OVER_TEMPERATURE:4101,OVER_CURRENT:4102,OUT_OF_RANGE:4103,BAD_POWER:4104,SATURATION:4105,OVER_VOLTAGE:4107,FAILSAFE_CONDITION:4108,VOLTAGE_ERROR:4109,ENERGY_DUMP_CONDITION:4110,MOTOR_STALL_CONDITION:4111,INVALID_STATE_CONDITION:4112,BAD_CONNECTION_CONDITION:4113};_.ErrorEventCode=k;var M={NONE:0,PN_INTERFACE_KIT488:1,PN_1000:2,PN_1001:3,PN_1002:4,PN_1008:5,PN_1010_1013_1018_1019:6,PN_1011:7,PN_1012:8,PN_1014:9,PN_1015:10,PN_1016:11,PN_1017:12,PN_1023:13,PN_1024:14,PN_1030:15,PN_1031:16,PN_1032:17,PN_1040:18,PN_1041:19,PN_1042:20,PN_1043:21,PN_1044:22,PN_1045:23,PN_1046:24,PN_1047:25,PN_1048:26,PN_1049:27,PN_1051:28,PN_1052:29,PN_1053:30,PN_1054:31,PN_1055:32,PN_1056:33,PN_1057:34,PN_1058:35,PN_1059:36,PN_1060:37,PN_1061:38,PN_1062:39,PN_1063:40,PN_1064:41,PN_1065:42,PN_1066:43,PN_1067:44,PN_1202_1203:45,PN_1204:46,PN_1215__1218:47,PN_1219__1222:48,PN_ADP1000:49,PN_ADP1001:50,PN_DAQ1000:51,PN_DAQ1200:52,PN_DAQ1300:53,PN_DAQ1301:54,PN_DAQ1400:55,PN_DAQ1500:56,PN_DCC1000:57,PN_DST1000:58,PN_DST1200:59,PN_ENC1000:60,PN_HIN1000:61,PN_HIN1001:62,PN_HIN1100:63,PN_HUB0000:64,PN_MESHHUB:65,PN_MESHDONGLE:66,PN_HUB0004:67,PN_LIGHTNINGHUB:68,PN_HUM1000:69,PN_LCD1100:70,PN_LED1000:71,PN_LUX1000:72,PN_MOT1100:73,PN_MOT1101:74,PN_OUT1000:75,PN_OUT1001:76,PN_OUT1002:77,PN_OUT1100:78,PN_PRE1000:79,PN_RCC1000:80,PN_REL1000:81,PN_REL1100:82,PN_REL1101:83,PN_SAF1000:84,PN_SND1000:85,PN_STC1000:86,PN_TMP1000:87,PN_TMP1100:88,PN_TMP1101:89,PN_TMP1200:90,PN_TMP1300:91,PN_VCP1000:92,PN_VCP1001:93,PN_VCP1002:94,DIGITAL_INPUT_PORT:95,DIGITAL_OUTPUT_PORT:96,VOLTAGE_INPUT_PORT:97,VOLTAGE_RATIO_INPUT_PORT:98,GENERIC_USB:99,GENERIC_VINT:100,FIRMWARE_UPGRADE_USB:101,FIRMWARE_UPGRADE_STM32F0:102,FIRMWARE_UPGRADE_STM8S:103,FIRMWARE_UPGRADE_SPI:104,PN_VCP1100:105,PN_DCC1100:108,PN_HIN1101:109,PN_DCC1001:110,PN_DICTIONARY:111,PN_STC1001:115,PN_USBSWITCH:116,PN_DCC1002:117,PN_STC1002:118,PN_STC1003:119,PN_DCC1003:120,PN_DST1001:121,PN_CURLOOP:122,PN_HUB5000:123,PN_RCC0004:124,UNKNOWN:125,PN_DST1002:126,PN_HUM1001:127,PN_DCC1004:128,PN_DCC1005:129,PN_MOT0108:131,PN_ADP_RS232:132,PN_ADP_RS485_422:133,PN_ADP_SERIAL:134,PN_HUM1100:136,PN_MOT1102:137,VINTACCEL:138,TP_DIAGNOSER:139,PN_MOT0109:140,PN_MOT0110:141,PN_HUB0001:142,FIRMWARE_UPGRADE_STM32G0:143};_.DeviceID=M;var H={NONE:0,ACCELEROMETER:1,ADVANCED_SERVO:2,ANALOG:3,BRIDGE:4,ENCODER:5,FREQUENCY_COUNTER:6,GPS:7,HUB:8,INTERFACE_KIT:9,IR:10,LED:11,MESH_DONGLE:12,MOTOR_CONTROL:13,PH_SENSOR:14,RFID:15,SERVO:16,SPATIAL:17,STEPPER:18,TEMPERATURE_SENSOR:19,TEXT_LCD:20,VINT:21,GENERIC:22,FIRMWARE_UPGRADE:23,DICTIONARY:24,DATA_ADAPTER:25};_.DeviceClass=H;var b={NONE:0,ACCELEROMETER:1,CURRENT_INPUT:2,DATA_ADAPTER:3,DC_MOTOR:4,DIGITAL_INPUT:5,DIGITAL_OUTPUT:6,DISTANCE_SENSOR:7,ENCODER:8,FREQUENCY_COUNTER:9,GPS:10,LCD:11,GYROSCOPE:12,HUB:13,CAPACITIVE_TOUCH:14,HUMIDITY_SENSOR:15,IR:16,LIGHT_SENSOR:17,MAGNETOMETER:18,MESH_DONGLE:19,PH_SENSOR:37,POWER_GUARD:20,PRESSURE_SENSOR:21,RC_SERVO:22,RESISTANCE_INPUT:23,RFID:24,SOUND_SENSOR:25,SPATIAL:26,STEPPER:27,TEMPERATURE_SENSOR:28,VOLTAGE_INPUT:29,VOLTAGE_OUTPUT:30,VOLTAGE_RATIO_INPUT:31,FIRMWARE_UPGRADE:32,GENERIC:33,MOTOR_POSITION_CONTROLLER:34,BLDC_MOTOR:35,DICTIONARY:36,CURRENT_OUTPUT:38};_.ChannelClass=b;var G={NONE:1,DIGITAL_OUTPUT_DUTY_CYCLE:16,DIGITAL_OUTPUT_LEDDRIVER:17,DIGITAL_OUTPUT_FREQUENCY:18,TEMPERATURE_SENSOR_RTD:32,TEMPERATURE_SENSOR_THERMOCOUPLE:33,VOLTAGE_INPUT_SENSOR_PORT:48,VOLTAGE_RATIO_INPUT_SENSOR_PORT:64,VOLTAGE_RATIO_INPUT_BRIDGE:65,LCD_GRAPHIC:80,LCD_TEXT:81,ENCODER_MODE_SETTABLE:96,SPATIAL_AHRS:112};_.ChannelSubclass=G;var W={ROUTER:1,SLEEPY_END_DEVICE:2};_.MeshMode=W;var x={OFF:1,VOLTS_12:2,VOLTS_24:3};_.PowerSupply=x;var F={WIRES_2:1,WIRES_3:2,WIRES_4:3};_.RTDWireSetup=F;var K={NPN:1,PNP:2};_.InputMode=K;var Y={OFF:1,ON:2,AUTO:3};_.FanMode=Y;var q={HYBRID:0,HIGH:1,LOW:2};_.SpatialPrecision=q;var X={NONE:0,BOOLEAN:1,PERCENT:2,DECIBEL:3,MILLIMETER:4,CENTIMETER:5,METER:6,GRAM:7,KILOGRAM:8,MILLIAMPERE:9,AMPERE:10,KILOPASCAL:11,VOLT:12,DEGREE_CELCIUS:13,LUX:14,GAUSS:15,PH:16,WATT:17};_.Unit=X;var j={NONE:1,EVEN:2,ODD:3};_.Parity=j;var z={ONE:1,TWO:2};_.StopBits=z;var Q={NONE:1,REQUEST_TO_SEND:2,READY_TO_RECEIVE:3};_.HandshakeMode=Q;var Z={RS485:1,RS422:2,DMX512:3,MODBUS_RTU:4,SPI:5,I2C:6,UART:7,RS232:8};_.Protocol=Z;var J={MODE_0:1,MODE_1:2,MODE_2:3,MODE_3:4};_.SPIMode=J;var $={MSB_FIRST:1,LSB_FIRST:2};_.Endianness=$;var tt={EXTERN:1,VOLTS_1_8:2,VOLTS_2_5:3,VOLTS_3_3:4,VOLTS_5:5};_.IOVoltage=tt;var et={OK:0,UNKNOWN:1,TIMEOUT:2,FORMATERR:3,INVALID:4,OVERRUN:5,CORRUPT:6};_.PacketErrorCode=et;var nt={VOLTS_1_7:1,VOLTS_2_75:2,VOLTS_3_2:3,VOLTS_3_9:4,VOLTS_4_0:5,VOLTS_4_8:6,VOLTS_5_0:7,VOLTS_5_6:8};_.LEDForwardVoltage=nt;var it={ZERO_CROSSING:1,LOGIC_LEVEL:2};_.FrequencyFilterType=it;var at={VINT:0,DIGITAL_INPUT:1,DIGITAL_OUTPUT:2,VOLTAGE_INPUT:3,VOLTAGE_RATIO_INPUT:4};_.HubPortMode=at;var rt={UNKNOWN:1,SPACE:2,PULSE:3,BI_PHASE:4,RC5:5,RC6:6};_.IRCodeEncoding=rt;var ot={UNKNOWN:1,CONSTANT:2,VARIABLE:3};_.IRCodeLength=ot;var st={USER1:1,USER2:2,DIMENSIONS_6X10:3,DIMENSIONS_5X8:4,DIMENSIONS_6X12:5};_.LCDFont=st;var ht={NO_SCREEN:1,DIMENSIONS_1X8:2,DIMENSIONS_2X8:3,DIMENSIONS_1X16:4,DIMENSIONS_2X16:5,DIMENSIONS_4X16:6,DIMENSIONS_2X20:7,DIMENSIONS_4X20:8,DIMENSIONS_2X24:9,DIMENSIONS_1X40:10,DIMENSIONS_2X40:11,DIMENSIONS_4X40:12,DIMENSIONS_64X128:13};_.LCDScreenSize=ht;var ct={OFF:0,ON:1,INVERT:2};_.LCDPixelState=ct;var pt={VOLTS_5_0:1,VOLTS_6_0:2,VOLTS_7_4:3};_.RCServoVoltage=pt;var ut={EM4100:1,ISO11785_FDX_B:2,PHIDGET_TAG:3};_.RFIDProtocol=ut;var dt={DB_102:1,DB_82:2};_.SPLRange=dt;var lt={NONE:0,AHRS:1,IMU:2};_.SpatialAlgorithm=lt;var Et={STEP:0,RUN:1};_.StepperControlMode=Et;var gt={PT100_3850:1,PT1000_3850:2,PT100_3920:3,PT1000_3920:4};_.RTDType=gt;var Tt={J:1,K:2,E:3,T:4};_.ThermocoupleType=Tt;var Nt={MILLIVOLTS_10:1,MILLIVOLTS_40:2,MILLIVOLTS_200:3,MILLIVOLTS_312_5:4,MILLIVOLTS_400:5,MILLIVOLTS_1000:6,VOLTS_2:7,VOLTS_5:8,VOLTS_15:9,VOLTS_40:10,AUTO:11};_.VoltageRange=Nt;var vt={VOLTAGE:0,PN_1114:11140,PN_1117:11170,PN_1123:11230,PN_1127:11270,PN_1130_PH:11301,PN_1130_ORP:11302,PN_1132:11320,PN_1133:11330,PN_1135:11350,PN_1142:11420,PN_1143:11430,PN_3500:35e3,PN_3501:35010,PN_3502:35020,PN_3503:35030,PN_3507:35070,PN_3508:35080,PN_3509:35090,PN_3510:35100,PN_3511:35110,PN_3512:35120,PN_3513:35130,PN_3514:35140,PN_3515:35150,PN_3516:35160,PN_3517:35170,PN_3518:35180,PN_3519:35190,PN_3584:35840,PN_3585:35850,PN_3586:35860,PN_3587:35870,PN_3588:35880,PN_3589:35890,PN_MOT2002_LOW:20020,PN_MOT2002_MED:20021,PN_MOT2002_HIGH:20022,PN_VCP4114:41140};_.VoltageSensorType=vt;var ft={VOLTS_10:1,VOLTS_5:2};_.VoltageOutputRange=ft;var At={GAIN_1X:1,GAIN_2X:2,GAIN_4X:3,GAIN_8X:4,GAIN_16X:5,GAIN_32X:6,GAIN_64X:7,GAIN_128X:8};_.BridgeGain=At;var yt={VOLTAGE_RATIO:0,PN_1101_SHARP2D120X:11011,PN_1101_SHARP2Y0A21:11012,PN_1101_SHARP2Y0A02:11013,PN_1102:11020,PN_1103:11030,PN_1104:11040,PN_1105:11050,PN_1106:11060,PN_1107:11070,PN_1108:11080,PN_1109:11090,PN_1110:11100,PN_1111:11110,PN_1112:11120,PN_1113:11130,PN_1115:11150,PN_1116:11160,PN_1118_AC:11181,PN_1118_DC:11182,PN_1119_AC:11191,PN_1119_DC:11192,PN_1120:11200,PN_1121:11210,PN_1122_AC:11221,PN_1122_DC:11222,PN_1124:11240,PN_1125_HUMIDITY:11251,PN_1125_TEMPERATURE:11252,PN_1126:11260,PN_1128:11280,PN_1129:11290,PN_1131:11310,PN_1134:11340,PN_1136:11360,PN_1137:11370,PN_1138:11380,PN_1139:11390,PN_1140:11400,PN_1141:11410,PN_1146:11460,PN_3120:31200,PN_3121:31210,PN_3122:31220,PN_3123:31230,PN_3130:31300,PN_3520:35200,PN_3521:35210,PN_3522:35220};_.VoltageRatioSensorType=yt;var Pt={0:"Success",1:"Not Permitted",2:"No Such Entity",3:"Timed Out",58:"Keep Alive Failure",4:"Op Interrupted",5:"IO Issue",6:"Memory Issue",7:"Access (Permission) Issue",8:"Address Issue",9:"Resource Busy",10:"Object Exists",11:"Object is not a directory",12:"Object is a directory",13:"Invalid",14:"Too many open files in system",15:"Too many open files",16:"Not enough space",17:"File too Big",18:"Read Only Filesystem",19:"Read Only Object",20:"Operation Not Supported",21:"Invalid Argument",22:"Try again",26:"Not Empty",28:"Unexpected Error",27:"Duplicate",37:"Bad Credential",45:"Network Unavailable",35:"Connection Refused",46:"Connection Reset",48:"No route to host",40:"No Such Device",50:"Wrong Device",41:"Broken Pipe",44:"Name Resolution Failure",51:"Unknown or Invalid Value",52:"Device not Attached",53:"Invalid or Unexpected Packet",54:"Argument List Too Long",55:"Bad Version",56:"Closed",57:"Not Configured",31:"End of File",59:"Failsafe Triggered"},_t=function(t,e){this.name="PhidgetError",this.errorCode=t,this.message=e||Pt[t],this.stack=(new Error).stack};_t.prototype=Error.prototype,_.PhidgetError=_t;var Ct={BP_SETSTATUS:0,BP_ACCELERATIONCHANGE:1,BP_ANGULARRATEUPDATE:2,BP_BACKEMFCHANGE:3,BP_CLEAR:4,BP_CODE:5,BP_COPY:6,BP_COUNTCHANGE:7,BP_CURRENTCHANGE:8,BP_DATA:9,BP_DATAINTERVALCHANGE:10,BP_DBCHANGE:11,BP_DISTANCECHANGE:12,BP_DRAWLINE:13,BP_DRAWPIXEL:14,BP_DRAWRECT:15,BP_DUTYCYCLECHANGE:16,BP_ERROREVENT:17,BP_FIELDSTRENGTHCHANGE:18,BP_FLUSH:19,BP_FREQUENCYCHANGE:20,BP_FREQUENCYDATA:21,BP_HUMIDITYCHANGE:22,BP_ILLUMINANCECHANGE:23,BP_INITIALIZE:24,BP_LEARN:25,BP_MANCHESTER:26,BP_MINDATAINTERVALCHANGE:27,BP_PACKET:28,BP_POSITIONCHANGE:29,BP_POSITIONFIXSTATUSCHANGE:30,BP_PRESSURECHANGE:31,BP_RAWDATA:32,BP_REPEAT:33,BP_OPENRESET:34,BP_RESETCORRECTIONPARAMETERS:35,BP_RESISTANCECHANGE:36,BP_SAVECORRECTIONPARAMETERS:37,BP_SAVEFRAMEBUFFER:38,BP_SENDPACKET:39,BP_SETACCELERATION:40,BP_SETANTENNAON:41,BP_SETBACKEMFSENSINGSTATE:42,BP_SETBACKLIGHT:43,BP_SETBRAKINGDUTYCYCLE:44,BP_SETBRIDGEGAIN:45,BP_SETCHANGETRIGGER:46,BP_SETCHARACTERBITMAP:47,BP_SETCONTRAST:48,BP_SETCONTROLMODE:49,BP_SETCORRECTIONPARAMETERS:50,BP_SETCURRENTLIMIT:51,BP_SETCURSORBLINK:52,BP_SETCURSORON:53,BP_SETDATAINTERVAL:54,BP_SETDUTYCYCLE:55,BP_SETENABLED:56,BP_SETENGAGED:57,BP_SETFANMODE:58,BP_SETFILTERTYPE:59,BP_SETFIRMWAREUPGRADEFLAG:60,BP_SETFONTSIZE:61,BP_SETFRAMEBUFFER:62,BP_SETHOLDINGCURRENTLIMIT:63,BP_SETINPUTMODE:64,BP_SETIOMODE:65,BP_SETSENSITIVITY:66,BP_SETLEDCURRENTLIMIT:67,BP_SETLEDFORWARDVOLTAGE:68,BP_SETMAXPULSEWIDTH:69,BP_SETMINPULSEWIDTH:70,BP_SETOVERVOLTAGE:71,BP_SETPORTMODE:72,BP_SETPORTPOWER:73,BP_SETPOWERSUPPLY:74,BP_SETSONARQUIETMODE:75,BP_SETRTDTYPE:76,BP_SETRTDWIRESETUP:77,BP_SETSCREENSIZE:78,BP_SETSENSORTYPE:79,BP_SETSLEEP:80,BP_SETSPEEDRAMPINGSTATE:81,BP_SETSTATE:82,BP_SETTARGETPOSITION:83,BP_SETTHERMOCOUPLETYPE:84,BP_SETVELOCITYLIMIT:85,BP_SETVOLTAGE:86,BP_SETVOLTAGERANGE:87,BP_SONARUPDATE:88,BP_SPATIALDATA:89,BP_STATECHANGE:90,BP_STOPPED:91,BP_TAG:92,BP_TAGLOST:93,BP_TARGETPOSITIONREACHED:94,BP_TEMPERATURECHANGE:95,BP_TOUCHINPUTVALUECHANGE:96,BP_TRANSMIT:97,BP_TRANSMITRAW:98,BP_TRANSMITREPEAT:99,BP_VELOCITYCHANGE:100,BP_VOLTAGECHANGE:101,BP_VOLTAGERATIOCHANGE:102,BP_WRITE:103,BP_WRITEBITMAP:104,BP_WRITETEXT:105,BP_ZERO:106,BP_SETCALIBRATIONVALUES:107,BP_TIME:108,BP_DATE:109,BP_HEADINGCHANGE:110,BP_CLOSERESET:111,BP_SENDFIRMWARE:112,BP_PROGRESSCHANGE:113,BP_DEVICEINFO:114,BP_SENSORCHANGE:115,BP_SETSPLRANGE:116,BP_DATAIN:117,BP_DATAOUT:118,BP_SETCURRENTREGULATORGAIN:119,BP_SETDEADBAND:120,BP_BRAKINGSTRENGTHCHANGE:121,BP_SETSENSORVALUECHANGETRIGGER:122,BP_DICTIONARYADD:123,BP_DICTIONARYADDED:124,BP_DICTIONARYUPDATE:125,BP_DICTIONARYUPDATED:126,BP_DICTIONARYREMOVE:127,BP_DICTIONARYREMOVED:128,BP_DICTIONARYGET:129,BP_DICTIONARYSET:130,BP_DICTIONARYREMOVEALL:131,BP_DICTIONARYSCAN:132,BP_PHCHANGE:133,BP_SETCORRECTIONTEMPERATURE:134,BP_SETKP:135,BP_SETKD:136,BP_TOUCHINPUTEND:137,BP_REBOOTFIRMWAREUPGRADE:138,BP_REBOOT:139,BP_WRITELABEL:140,BP_SETSTALLVELOCITY:141,BP_SETKI:142,BP_ENABLE:143,BP_SETCURRENT:144,BP_SETSPATIALPRECISION:145,BP_SETFAILSAFETIME:146,BP_FAILSAFERESET:147,BP_SPATIALALGDATA:148,BP_SETSPATIALALGORITHM:149,BP_ZEROSPATIALALGORITHM:150,BP_SETSPATIALALGORITHMMAGGAIN:151,BP_SENDCHPACKET:152,BP_SENDDEVPACKET:153,BP_READCHPACKET:154,BP_READDEVPACKET:155,BP_SETFREQUENCY:156,BP_SETBAUDRATE:157,BP_SETPARITY:158,BP_SETSTOPBITS:159,BP_SETDATABITS:160,BP_SETHANDSHAKEMODE:161,BP_SETPROTOCOL:162,BP_SETSPIMODE:163,BP_SETADDRESS:164,BP_SETENDIANNESS:165,BP_SETTIMEOUT:166,BP_SETI2CFORMAT:167,BP_SETIOVOLTAGE:168,BP_DATAEXCHANGE:169,BP_SETHEATINGENABLED:170,BP_SETTXTIMEOUT:171,BP_DEVICELABELCHANGE:172,BP_SETVINTSPEED:173,BP_SETAHRSPARAMETERS:174,BP_SETENDOFLINE:175},Ot=function(t,e,n){this.conn=t,this.req=e,n?(this.version=n.v,this.source=n.s,this.flags=n.f,this.vpkt=n.p,this.chid=n.O,this.channel=t.getChannel(this.chid),this.channelIndex=n.X,this.entryCount=n.c,this.entries=n.e):(this.version=0,this.source=2,this.flags=0,this.entryCount=0,this.entries={})};Ot.prototype.NUMBER=1,Ot.prototype.FLOAT=2,Ot.prototype.STRING=3,Ot.prototype.ARRAY=4,Ot.prototype.JSON=5,Ot.prototype.F_EVENT=1,Ot.prototype.isEvent=function(){return!!(this.flags&this.F_EVENT)},Ot.prototype.validType=function(t){switch(t){case"c":case"h":case"u":case"uh":case"ul":case"d":case"l":case"f":case"g":case"s":case"R":case"I":case"U":case"J":return!0;default:return!1}},Ot.prototype.entryType=function(t){switch(t.type){case"c":case"h":case"uh":case"d":case"u":case"l":case"ul":return this.NUMBER;case"f":case"g":return this.FLOAT;case"s":return this.STRING;case"R":case"I":case"G":case"U":return this.ARRAY;case"J":return this.JSON;default:return-1}},Ot.prototype.convertType=function(t){switch(this.entryType(t)){case this.NUMBER:var e=parseInt(t.value);if(!isNaN(e))return e;if("boolean"==typeof t.value)return t.value?1:0;break;case this.FLOAT:var e=parseFloat(t.value);if(!isNaN(e))return e;if("boolean"==typeof t.value)return t.value?1:0;break;case this.STRING:return"string"!=typeof t.value?""+t.value:t.value;case this.JSON:if("object"==typeof t.value)return t.value;break;case this.ARRAY:if(Array.isArray(t.value))return t.value}throw"invalid value ["+t.value+"] for type ["+t.type+"]"},Ot.prototype.set=function(t){if("undefined"==typeof t)throw"invalid argument";if("undefined"==typeof t.name)throw"missing name";if("undefined"==typeof t.type)throw"missing type";if("undefined"==typeof t.value)throw"missing value";if(t.name in this.entries)throw"value ["+t.name+"] already set";if(!this.validType(t.type))throw"invalid type ["+t.type+"]";var e=this.convertType(t),n={t:t.type,v:e};this.entries[t.name]=n,this.entryCount++},Ot.prototype.send=function(t,e,n){var i=t;if("string"==typeof e&&(e=this[e]),this.vpkt=e,this.local=!0,!t.isopen)return Promise.reject(new _t(V.NOT_ATTACHED));var a=JSON.stringify({v:this.version,s:this.source,f:this.flags,p:this.vpkt,I:t.parent.phid,X:t.uniqueIndex,c:this.entryCount,e:this.entries}),r=this;return t.conn.sendRequest(0,0,0,D.Device,L.BridgePkt,a).then(function(t){return n!==!1&&i.userphid.bridgeInput(r),t})},Ot.prototype.deliver=function(){if(!this.channel)throw"Bridge packet missing channel";if(this.channel.isopen===!1)return void e("deliver event to closed channel");try{switch(this.isEvent()||0===this.vpkt||this.conn.sendReply(this.req.reqseq,this.req.type,this.req.stype,[]),this.vpkt){default:try{this.channel.userphid.bridgeInput(this)}catch(t){e(t)}break;case Ct.BP_DEVICELABELCHANGE:this.channel.userphid.device.label=this.entries[0].v,this.channel.userphid.onPropertyChange&&this.local!==!0&&this.channel.userphid.onPropertyChange("DeviceLabel")}}catch(t){throw t}},Ot.prototype.get=function(t){if(this.entries.hasOwnProperty(t))return this.entries[t].v};var It={0:"PhidgetNone",1:"PhidgetAccelerometer",2:"PhidgetAdvancedServo",3:"PhidgetAnalog",4:"PhidgetBridge",5:"PhidgetEncoder",6:"PhidgetFrequencyCounter",7:"PhidgetGPS",8:"PhidgetHub",9:"PhidgetInterfaceKit",10:"PhidgetIR",11:"PhidgetLED",12:"PhidgetMeshDongle",13:"PhidgetMotorControl",14:"PhidgetPHSensor",15:"PhidgetRFID",16:"PhidgetServo",17:"PhidgetSpatial",18:"PhidgetStepper",19:"PhidgetTemperatureSensor",20:"PhidgetTextLCD",21:"PhidgetVINT",22:"PhidgetGeneric",23:"PhidgetFirmwareUpgrade",24:"PhidgetDictionary",25:"PhidgetDataAdapter"},mt={0:"PhidgetNone",1:"PhidgetAccelerometer",2:"PhidgetCurrentInput",3:"PhidgetDataAdapter",4:"PhidgetDCMotor",5:"PhidgetDigitalInput",6:"PhidgetDigitalOutput",7:"PhidgetDistanceSensor",8:"PhidgetEncoder",9:"PhidgetFrequencyCounter",10:"PhidgetGPS",11:"PhidgetLCD",12:"PhidgetGyroscope",13:"PhidgetHub",14:"PhidgetCapacitiveTouch",15:"PhidgetHumiditySensor",16:"PhidgetIR",17:"PhidgetLightSensor",18:"PhidgetMagnetometer",19:"PhidgetMeshDongle",37:"PhidgetPHSensor",20:"PhidgetPowerGuard",21:"PhidgetPressureSensor",22:"PhidgetRCServo",23:"PhidgetResistanceInput",24:"PhidgetRFID",25:"PhidgetSoundSensor",26:"PhidgetSpatial",27:"PhidgetStepper",28:"PhidgetTemperatureSensor",29:"PhidgetVoltageInput",30:"PhidgetVoltageOutput",31:"PhidgetVoltageRatioInput",32:"PhidgetFirmwareUpgrade",33:"PhidgetGeneric",34:"PhidgetMotorPositionController",35:"PhidgetBLDCMotor",36:"PhidgetDictionary",38:"PhidgetCurrentOutput"},St={VINT:[{i:64,c:21,v:[800,900],s:"1014",ch:[{n:4,s:1}]},{i:135,c:21,v:[200,300],s:"1017",ch:[{n:8,s:1}]},{i:57,c:21,v:[200,300],s:"1024",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:77,c:10,v:[200,300],s:"1055",ch:[{n:1,s:1}]},{i:1,c:21,v:[100,200],s:"DIGITALINPUT_PORT",ch:[{n:1,s:1}]},{i:2,c:21,v:[100,110],s:"DIGITALOUTPUT_PORT",ch:[{n:1,s:16}]},{i:2,c:21,v:[110,200],s:"DIGITALOUTPUT_PORT",ch:[{n:1,s:16}]},{i:3,c:21,v:[100,110],s:"VOLTAGEINPUT_PORT",ch:[{n:1,s:48}]},{i:3,c:21,v:[110,200],s:"VOLTAGEINPUT_PORT",ch:[{n:1,s:48}]},{i:4,c:21,v:[100,200],s:"VOLTAGERATIOINPUT_PORT",ch:[{n:1,s:64}]},{i:29,c:21,v:[100,200],s:"ADP1000",ch:[{n:1,s:1},{n:1,s:1}]},{i:23,c:21,v:[100,200],s:"ADP1001",ch:[{n:1,s:1}]},{i:132,c:25,v:[100,200],s:"ADP_RS232",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:133,c:25,v:[100,200],s:"ADP_RS485_422",ch:[{n:1,s:1}]},{i:134,c:25,v:[100,200],s:"ADP_SERIAL",ch:[{n:1,s:1},{n:6,s:1},{n:6,s:1}]},{i:50,c:21,v:[100,110],s:"DAQ1000",ch:[{n:8,s:64},{n:8,s:48}]},{i:50,c:21,v:[110,200],s:"DAQ1000",ch:[{n:8,s:64},{n:8,s:48}]},{i:41,c:21,v:[100,110],s:"OUT1000",ch:[{n:1,s:1}]},{i:41,c:21,v:[110,200],s:"OUT1000",ch:[{n:1,s:1}]},{i:42,c:21,v:[100,110],s:"OUT1001",ch:[{n:1,s:1}]},{i:42,c:21,v:[110,200],s:"OUT1001",ch:[{n:1,s:1}]},{i:43,c:21,v:[100,110],s:"OUT1002",ch:[{n:1,s:1}]},{i:43,c:21,v:[110,200],s:"OUT1002",ch:[{n:1,s:1}]},{i:122,c:21,v:[100,200],s:"CURLOOP",ch:[{n:1,s:1}]},{i:28,c:21,v:[100,200],s:"DAQ1200",ch:[{n:4,s:1}]},{i:25,c:21,v:[100,110],s:"OUT1100",ch:[{n:4,s:16}]},{i:25,c:21,v:[110,120],s:"OUT1100",ch:[{n:4,s:16}]},{i:25,c:21,v:[120,200],s:"OUT1100",ch:[{n:4,s:18}]},{i:32,c:21,v:[100,200],s:"DAQ1300",ch:[{n:4,s:1}]},{i:54,c:21,v:[100,200],s:"DAQ1301",ch:[{n:16,s:1}]},{i:34,c:21,v:[100,120],s:"DAQ1400",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:34,c:21,v:[120,200],s:"DAQ1400",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:24,c:21,v:[100,200],s:"DAQ1500",ch:[{n:2,s:65}]},{i:64,c:21,v:[100,200],s:"VCP1100",ch:[{n:1,s:1}]},{i:144,c:21,v:[200,300],s:"VCP1100",ch:[{n:1,s:1}]},{i:47,c:21,v:[100,200],s:"DCC1000",ch:[{n:1,s:1},{n:1,s:96},{n:1,s:64},{n:1,s:1},{n:1,s:1}]},{i:47,c:21,v:[200,210],s:"DCC1000",ch:[{n:1,s:1},{n:1,s:96},{n:1,s:64},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:47,c:21,v:[210,300],s:"DCC1000",ch:[{n:1,s:1},{n:1,s:96},{n:1,s:64},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:128,c:21,v:[100,200],s:"DCC1004",ch:[{n:1,s:1},{n:1,s:96},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:129,c:21,v:[100,200],s:"DCC1005",ch:[{n:1,s:1},{n:1,s:96},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:68,c:21,v:[100,120],s:"DCC1001",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:68,c:21,v:[120,200],s:"DCC1001",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:70,c:21,v:[100,110],s:"DCC1002",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:70,c:21,v:[110,200],s:"DCC1002",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:73,c:21,v:[100,110],s:"DCC1003",ch:[{n:2,s:1}]},{i:73,c:21,v:[110,200],s:"DCC1003",ch:[{n:2,s:1}]},{i:65,c:21,v:[100,120],s:"DCC1100",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:65,c:21,v:[120,200],s:"DCC1100",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:45,c:21,v:[100,200],s:"DST1000",ch:[{n:1,s:1}]},{i:121,c:21,v:[100,200],s:"DST1001",ch:[{n:1,s:1}]},{i:126,c:21,v:[100,200],s:"DST1002",ch:[{n:1,s:1}]},{i:46,c:21,v:[100,200],s:"DST1200",ch:[{n:1,s:1}]},{i:18,c:21,v:[100,200],s:"ENC1000",ch:[{n:1,s:96}]},{i:67,c:21,v:[100,200],s:"HIN1101",ch:[{n:1,s:1},{n:1,s:1}]},{i:36,c:21,v:[100,200],s:"HIN1000",ch:[{n:7,s:1}]},{i:56,c:21,v:[100,200],s:"HIN1001",ch:[{n:4,s:1},{n:1,s:1}]},{i:37,c:21,v:[100,200],s:"HIN1100",ch:[{n:2,s:1},{n:1,s:1}]},{i:20,c:21,v:[100,200],s:"HUM1000",ch:[{n:1,s:1},{n:1,s:1}]},{i:127,c:21,v:[100,200],s:"HUM1001",ch:[{n:1,s:1},{n:1,s:1}]},{i:40,c:21,v:[100,200],s:"LCD1100",ch:[{n:1,s:80}]},{i:39,c:21,v:[100,200],s:"LED1000",ch:[{n:32,s:17}]},{i:33,c:21,v:[100,200],s:"LUX1000",ch:[{n:1,s:1}]},{i:136,c:21,v:[100,200],s:"HUM1100",ch:[{n:1,s:1}]},{i:51,c:21,v:[100,200],s:"MOT1100",ch:[{n:1,s:1}]},{i:51,c:21,v:[200,300],s:"MOT1100",ch:[{n:1,s:1}]},{i:52,c:21,v:[100,200],s:"MOT1101",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:138,c:21,v:[100,200],s:"MOT1100",ch:[{n:1,s:1}]},{i:137,c:21,v:[200,300],s:"MOT1102",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112}]},{i:17,c:21,v:[100,200],s:"PRE1000",ch:[{n:1,s:1}]},{i:49,c:21,v:[100,110],s:"RCC1000",ch:[{n:16,s:1}]},{i:49,c:21,v:[110,200],s:"RCC1000",ch:[{n:16,s:1}]},{i:44,c:21,v:[100,110],s:"REL1000",ch:[{n:4,s:1}]},{i:44,c:21,v:[110,200],s:"REL1000",ch:[{n:4,s:1}]},{i:26,c:21,v:[100,110],s:"REL1100",ch:[{n:4,s:16}]},{i:26,c:21,v:[110,120],s:"REL1100",ch:[{n:4,s:16}]},{i:26,c:21,v:[120,200],s:"REL1100",ch:[{n:4,s:18}]},{i:27,c:21,v:[100,110],s:"REL1101",ch:[{n:16,s:16}]},{i:27,c:21,v:[110,200],s:"REL1101",ch:[{n:16,s:16}]},{i:130,c:21,v:[100,300],s:"REL1101",ch:[{n:8,s:18},{n:8,s:16}]},{i:139,c:21,v:[100,200],s:"TestpointDiagnoser",ch:[{n:1,s:1}]},{i:38,c:21,v:[100,110],s:"SAF1000",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:38,c:21,v:[110,200],s:"SAF1000",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:35,c:21,v:[100,200],s:"SND1000",ch:[{n:1,s:1}]},{i:48,c:21,v:[100,110],s:"STC1000",ch:[{n:1,s:1}]},{i:48,c:21,v:[110,200],s:"STC1000",ch:[{n:1,s:1}]},{i:69,c:21,v:[100,110],s:"STC1001",ch:[{n:1,s:1}]},{i:69,c:21,v:[110,200],s:"STC1001",ch:[{n:1,s:1}]},{i:71,c:21,v:[100,110],s:"STC1002",ch:[{n:1,s:1}]},{i:71,c:21,v:[110,200],s:"STC1002",ch:[{n:1,s:1}]},{i:72,c:21,v:[100,110],s:"STC1003",ch:[{n:1,s:1}]},{i:72,c:21,v:[110,200],s:"STC1003",ch:[{n:1,s:1}]},{i:142,c:21,v:[200,300],s:"STC1003",ch:[{n:1,s:1},{n:1,s:1}]},{i:19,c:21,v:[100,200],s:"TMP1000",ch:[{n:1,s:1}]},{i:55,c:21,v:[100,200],s:"TMP1100",ch:[{n:1,s:33},{n:1,s:1},{n:1,s:1}]},{i:21,c:21,v:[100,200],s:"TMP1101",ch:[{n:4,s:33},{n:1,s:1},{n:4,s:1}]},{i:143,c:21,v:[200,300],s:"TMP1101",ch:[{n:4,s:33},{n:1,s:1},{n:4,s:1}]},{i:16,c:21,v:[100,200],s:"TMP1200",ch:[{n:1,s:32},{n:1,s:1}]},{i:78,c:21,v:[200,300],s:"TMP1200",ch:[{n:1,s:32},{n:1,s:1}]},{i:22,c:21,v:[100,200],s:"TMP1300",ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:53,c:21,v:[100,200],s:"VCP1000",ch:[{n:1,s:1}]},{i:31,c:21,v:[100,200],s:"VCP1001",ch:[{n:1,s:1}]},{i:30,c:21,v:[100,200],s:"VCP1002",ch:[{n:1,s:1}]},{i:4093,c:21,v:[100,110],s:"FIRMWARE_UPGRADE_STM32F0",ch:[{n:1,s:1}]},{i:4093,c:21,v:[110,200],s:"FIRMWARE_UPGRADE_STM32G0",ch:[{n:1,s:1}]},{i:4094,c:21,v:[100,200],s:"FIRMWARE_UPGRADE_STM8S",ch:[{n:1,s:1}]},{i:2457,c:21,v:[100,200],s:"GenericVINT",ch:[{n:4,s:1}]},{i:4080,c:21,v:[0,9999],s:"Unknown",ch:[{n:1,s:1}]}],USB:[{i:33281,c:9,v:[0,101],s:"ifkit488",n:0,ch:[{n:4,s:64},{n:8,s:1},{n:8,s:1}]},{i:33025,c:16,v:[200,201],s:"1000",n:0,ch:[{n:1,s:1}]},{i:57,c:16,v:[200,201],s:"1000",n:0,ch:[{n:1,s:1}]},{i:57,c:16,v:[300,313],s:"1000",n:0,ch:[{n:1,s:1}]},{i:57,c:16,v:[313,400],s:"1000",n:0,ch:[{n:1,s:1}]},{i:33028,c:16,v:[200,201],s:"1001",n:0,ch:[{n:4,s:1}]},{i:56,c:16,v:[200,201],s:"1001",n:0,ch:[{n:4,s:1}]},{i:56,c:16,v:[300,313],s:"1001",n:0,ch:[{n:4,s:1}]},{i:56,c:16,v:[313,400],s:"1001",n:0,ch:[{n:4,s:1}]},{i:55,c:3,v:[100,200],s:"1002",n:0,ch:[{n:4,s:1}]},{i:113,c:1,v:[0,200],s:"1008",n:0,ch:[{n:1,s:1}]},{i:54,c:9,v:[0,200],s:"1011",n:0,ch:[{n:2,s:48},{n:2,s:64},{n:2,s:1},{n:2,s:1}]},{i:68,c:9,v:[0,601],s:"1012",n:0,ch:[{n:16,s:1},{n:16,s:1}]},{i:68,c:9,v:[601,602],s:"1012",n:0,ch:[{n:16,s:1},{n:16,s:1}]},{i:68,c:9,v:[602,700],s:"1012",n:0,ch:[{n:16,s:1},{n:16,s:1}]},{i:69,c:9,v:[0,821],s:"1013",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:69,c:9,v:[821,900],s:"1013/1018/1019",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:64,c:9,v:[0,704],s:"1014",n:0,ch:[{n:4,s:1}]},{i:64,c:9,v:[704,800],s:"1014",n:0,ch:[{n:4,s:1}]},{i:64,c:9,v:[800,900],s:"1014",n:0,ch:[{n:4,s:1}]},{i:118,c:9,v:[0,9999],s:"1015",n:0,ch:[{n:1,s:1}]},{i:119,c:9,v:[0,9999],s:"1016",n:0,ch:[{n:1,s:1}]},{i:129,c:9,v:[0,9999],s:"1017",n:0,ch:[{n:8,s:1}]},{i:135,c:9,v:[200,300],s:"1017",n:0,ch:[{n:8,s:1}]},{i:69,c:9,v:[900,1e3],s:"1010/1018/1019",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:69,c:9,v:[1e3,1100],s:"1010/1018/1019",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:48,c:15,v:[0,104],s:"1023",n:0,ch:[{n:1,s:1}]},{i:48,c:15,v:[104,200],s:"1023",n:0,ch:[{n:1,s:1}]},{i:49,c:15,v:[200,201],s:"1023",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:49,c:15,v:[201,300],s:"1023",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:52,c:15,v:[100,200],s:"1024",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:52,c:15,v:[200,300],s:"1024",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:74,c:11,v:[100,300],s:"1030",n:0,ch:[{n:64,s:17}]},{i:76,c:11,v:[100,200],s:"1031",n:0,ch:[{n:64,s:17}]},{i:76,c:11,v:[200,300],s:"1032",n:0,ch:[{n:64,s:17}]},{i:121,c:7,v:[0,9999],s:"1040",n:0,ch:[{n:1,s:1}]},{i:127,c:17,v:[200,300],s:"1041",n:0,ch:[{n:1,s:1}]},{i:51,c:17,v:[300,400],s:"1042",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:127,c:17,v:[300,400],s:"1043",n:0,ch:[{n:1,s:1}]},{i:51,c:17,v:[400,500],s:"1044",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:51,c:17,v:[500,510],s:"1044",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112}]},{i:51,c:17,v:[510,600],s:"1044",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112}]},{i:60,c:19,v:[100,200],s:"1045",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:59,c:4,v:[100,102],s:"1046",n:0,ch:[{n:4,s:65}]},{i:59,c:4,v:[102,200],s:"1046",n:0,ch:[{n:4,s:65}]},{i:79,c:5,v:[100,200],s:"1047",n:0,ch:[{n:4,s:1},{n:4,s:1}]},{i:79,c:5,v:[200,300],s:"1047",n:0,ch:[{n:4,s:1},{n:4,s:1}]},{i:50,c:19,v:[100,200],s:"1048",n:0,ch:[{n:4,s:33},{n:1,s:1},{n:4,s:1}]},{i:50,c:19,v:[200,300],s:"1048",n:0,ch:[{n:4,s:33},{n:1,s:1},{n:4,s:1}]},{i:127,c:17,v:[0,200],s:"1049",n:0,ch:[{n:1,s:1}]},{i:112,c:19,
v:[0,200],s:"1051",n:0,ch:[{n:1,s:33},{n:1,s:1}]},{i:112,c:19,v:[200,300],s:"1051",n:0,ch:[{n:1,s:33},{n:1,s:1},{n:1,s:1}]},{i:112,c:19,v:[300,400],s:"1051",n:0,ch:[{n:1,s:33},{n:1,s:1},{n:1,s:1}]},{i:112,c:19,v:[400,500],s:"1051",n:0,ch:[{n:1,s:33},{n:1,s:1},{n:1,s:1}]},{i:75,c:5,v:[0,101],s:"1052",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:75,c:5,v:[101,110],s:"1052",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:75,c:5,v:[110,300],s:"1052",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:113,c:1,v:[300,400],s:"1053",n:0,ch:[{n:1,s:1}]},{i:53,c:6,v:[0,200],s:"1054",n:0,ch:[{n:2,s:1}]},{i:77,c:10,v:[100,200],s:"1055",n:0,ch:[{n:1,s:1}]},{i:77,c:10,v:[200,300],s:"1055",n:0,ch:[{n:1,s:1}]},{i:51,c:17,v:[0,200],s:"1056",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:51,c:17,v:[200,300],s:"1056",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:128,c:5,v:[300,400],s:"1057",n:0,ch:[{n:1,s:1}]},{i:128,c:5,v:[400,500],s:"1057",n:0,ch:[{n:1,s:1}]},{i:116,c:14,v:[100,200],s:"1058",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:126,c:1,v:[400,500],s:"1059",n:0,ch:[{n:1,s:1}]},{i:88,c:13,v:[100,200],s:"1060",n:0,ch:[{n:2,s:1},{n:4,s:1}]},{i:58,c:2,v:[100,200],s:"1061",n:0,ch:[{n:8,s:1},{n:8,s:1}]},{i:58,c:2,v:[200,300],s:"1061",n:0,ch:[{n:8,s:1},{n:8,s:1}]},{i:58,c:2,v:[300,400],s:"1061",n:0,ch:[{n:8,s:1},{n:8,s:1}]},{i:58,c:2,v:[400,500],s:"RCC0004",n:0,ch:[{n:8,s:1}]},{i:122,c:18,v:[100,200],s:"1062",n:0,ch:[{n:4,s:1}]},{i:123,c:18,v:[100,200],s:"1063",n:0,ch:[{n:1,s:1},{n:4,s:1},{n:1,s:1}]},{i:89,c:13,v:[100,200],s:"1064",n:0,ch:[{n:2,s:1},{n:2,s:1}]},{i:62,c:13,v:[100,200],s:"1065",n:0,ch:[{n:1,s:1},{n:2,s:1},{n:1,s:1},{n:2,s:48},{n:1,s:1},{n:2,s:64},{n:1,s:1}]},{i:130,c:2,v:[100,200],s:"1066",n:0,ch:[{n:1,s:1},{n:1,s:1}]},{i:123,c:18,v:[200,300],s:"1067",n:0,ch:[{n:1,s:1}]},{i:123,c:18,v:[300,400],s:"1067",n:0,ch:[{n:1,s:1}]},{i:125,c:9,v:[0,120],s:"1202/1203",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:125,c:9,v:[120,200],s:"1202/1203",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:125,c:20,v:[0,200],s:"1202/1203",n:1,ch:[{n:1,s:81}]},{i:125,c:9,v:[200,300],s:"1202/1203",n:0,ch:[{n:8,s:48},{n:8,s:64},{n:8,s:1},{n:8,s:1}]},{i:125,c:20,v:[200,9999],s:"1202/1203",n:1,ch:[{n:1,s:81}]},{i:61,c:20,v:[0,9999],s:"1204",n:0,ch:[{n:2,s:81}]},{i:82,c:20,v:[0,9999],s:"1215/1216/1217/1218",n:0,ch:[{n:1,s:81}]},{i:83,c:20,v:[0,9999],s:"1219/1220/1221/1222",n:0,ch:[{n:1,s:81},{n:8,s:1},{n:8,s:1}]},{i:132,c:25,v:[100,200],s:"ADP_RS232",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:1}]},{i:133,c:25,v:[100,200],s:"ADP_RS485_422",n:0,ch:[{n:1,s:1}]},{i:134,c:25,v:[100,200],s:"ADP_SERIAL",n:0,ch:[{n:1,s:1},{n:6,s:1},{n:6,s:1}]},{i:131,c:17,v:[100,200],s:"MOT0108",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112},{n:1,s:1}]},{i:140,c:17,v:[100,200],s:"MOT0109",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112},{n:1,s:1}]},{i:141,c:17,v:[100,200],s:"MOT0110",n:0,ch:[{n:1,s:1},{n:1,s:1},{n:1,s:1},{n:1,s:112},{n:1,s:1}]},{i:63,c:8,v:[100,200],s:"HUB0000",n:0,ch:[{n:1,s:1}]},{i:63,c:8,v:[201,300],s:"HUB0001",n:0,ch:[{n:1,s:1}]},{i:65,c:12,v:[100,200],s:"MESHDONGLE",n:0,ch:[{n:1,s:1}]},{i:66,c:8,v:[100,200],s:"HUB5000",n:0,ch:[{n:1,s:1}]},{i:152,c:23,v:[0,9999],s:"FIRMWARE_UPGRADE_M3",n:0,ch:[{n:1,s:1}]},{i:156,c:23,v:[100,200],s:"FIRMWARE_UPGRADE_STM32_USB",n:0,ch:[{n:1,s:1}]},{i:153,c:22,v:[0,9999],s:"GenericDeviceHIDUSB",n:0,ch:[{n:1,s:1}]},{i:155,c:22,v:[0,9999],s:"GenericDevicePHIDUSB",n:0,ch:[{n:1,s:1}]},{i:154,c:9,v:[100,200],s:"USBSWITCH",n:0,ch:[{n:2,s:1},{n:2,s:1},{n:2,s:1},{n:2,s:1},{n:4,s:1},{n:4,s:1},{n:4,s:1},{n:4,s:1}]},{i:175,c:22,v:[0,9999],s:"Unknown",n:0,ch:[{n:1,s:1}]},{i:72,c:22,v:[0,0],s:"textled4x8",n:0,ch:[]},{i:73,c:22,v:[0,0],s:"textled1x8",n:0,ch:[]},{i:33280,c:22,v:[0,0],s:"ifkit288",n:0,ch:[]},{i:34048,c:22,v:[0,0],s:"power",n:0,ch:[]},{i:81,c:22,v:[0,0],s:"ifkit057",n:0,ch:[]},{i:96,c:22,v:[0,0],s:"ifkit3232",n:0,ch:[]},{i:114,c:22,v:[0,0],s:"1050",n:0,ch:[]}],MESH:[{i:1,c:8,v:[100,200],s:"MESHHUB",ch:[{n:1,s:1}]}],SPI:[{i:1,c:8,v:[100,200],s:"HUB0004",ch:[{n:1,s:1}]},{i:2,c:23,v:[0,9999],s:"FIRMWARE_UPGRADE_M3",ch:[{n:1,s:1}]}],LIGHTNING:[{i:66,c:8,v:[100,200],s:"LIGHTNINGHUB",ch:[{n:1,s:1}]}],VIRTUAL:[{i:0,c:24,v:[100,200],s:"Dictionary",ch:[{n:1,s:1}]}]},Dt=function(t,e){this.conn=t,this.type=e.type,this.phid=e.phid,this.parent=t.getDevice(e.parent),this.pphid=e.parent,this.vendorID=e.vendorID,this.productID=e.productID,this.deviceID=e.deviceID,this.serialNumber=e.serialNumber,this.label=e.label,this.version=e.version,this.interfaceNum=e.interfaceNum,this.index=e.index,this.hubPort=e.hubPort,this.isHubPort=0!==e.isHubPort,this.desc=e.desc,this.name=e.name,this.fwstr=e.fwstr,"VINT"===this.type&&(this.vintID=e.vintID),this.phiddev=y(e),this["class"]=this.phiddev.c,this.sku=this.phiddev.s};Dt.prototype.toString=function(){return"VINT"===this.type?this.sku+" ("+this.name+") v"+this.version+" -> "+this.parent.sku+" Port:"+this.hubPort+" S/N:"+this.serialNumber:this.sku+" ("+this.name+") v"+this.version+" S/N:"+this.serialNumber};var Lt=function(t,e,n){this.listeners=[],this.conn=t,this.isopen=!1,this.isHubPort=e.isHubPort,this.parent=e,this.chid=n.chid,this.name=n.name,this.channelname=n.channelname,this.channelname.startsWith("Phidget")?this.cname=this.channelname.substring(7):this.cname=this.channelname,this["class"]=n["class"],this.uniqueIndex=n.uniqueIndex,this.index=n.index,this.cpversion=n.version,this.phidch=P(e,n),this.subclass=this.phidch.subcls};Lt.prototype.match=function(t){return t["class"]===this["class"]&&((void 0==t._serialNumber||t._serialNumber===-1||t._serialNumber==this.parent.serialNumber)&&((void 0==t._channel||t._channel===-1||t._channel==this.index)&&((void 0==t._hubPort||t._hubPort===-1||t._hubPort==this.parent.hubPort)&&((void 0===t._isHubPort||t._isHubPort===this.isHubPort)&&((void 0===t._deviceLabel||null===t._deviceLabel||t._deviceLabel===this.parent.label)&&(e("matched:"+t+" -> "+this),!0))))))},Lt.prototype.onDetach=function(){this.isopen&&(this.detaching=!0,this.userphid._close(this.userphid),this.isopen=!1,delete this.userphid,delete this.detaching)},Lt.prototype.closing=function(t){this.isopen&&this.userphid===t&&(this.userphid.isopen=!1,delete ch.userphid.channel,ch.isopen=!1,delete ch.userphid)},Lt.prototype.open=function(t){var e=this;t.attaching=!0;var n=JSON.stringify({phid:this.parent.phid,channel:this.chid,"class":this["class"],index:this.uniqueIndex,version:this.cpversion});return new Promise(function(i,a){e.conn.sendRequest(0,0,0,D.Device,L.Open,n).then(function(n){t.attaching=!1,e.isopen=!0,e.userphid=t;var r=new Ot(e.conn,null,n);try{r.deliver()}catch(o){return void a(o)}t.wasOpened(e),i()})["catch"](function(t){a(t)})})},Lt.prototype.close=function(){if(this.detaching)return Promise.resolve();var t=JSON.stringify({phid:this.parent.phid,index:this.uniqueIndex});return this.conn.sendRequest(0,0,0,D.Device,L.Close,t)},Lt.prototype.toString=function(){return"VINT"===this.parent.type?this.isHubPort?this.name+" Ch:"+this.index+" -> "+this.parent.sku+" Port:"+this.parent.hubPort+" S/N:"+this.parent.serialNumber:this.name+" Ch:"+this.index+" -> "+this.parent.sku+" -> "+this.parent.parent.sku+" Port:"+this.parent.hubPort+" S/N:"+this.parent.serialNumber:this.name+" Ch:"+this.index+" -> "+this.parent.sku+" S/N:"+this.parent.serialNumber};var Ut=function(t,e){var n=this;this.name="Phidget",this._isHubPort=!1,this.id=d++,this.attaching=!1,this.useropen=!1,this.isopen=!1,this.isattached=!1,this.detaching=!1,t&&(this.channel=t),e&&(this.device=e),t&&!e&&(this.device=t.parent),e&&!t?this.isChannel=!1:this.isChannel=!0,this.manager=!1,(t||e)&&(this.manager=!0,this.isattached=!0),this.onAttach=function(t){},this.onDetach=function(t){},this.wasOpened=function(t){n.channel=t,n.device=t.parent,n.isopen=!0,n.isattached=!0,n.onopen(n)}};Ut.prototype.constructor=Ut,Ut.getLibraryVersion=function(){return"Phidget22 1.7"},Ut.ANY_SERIAL_NUMBER=-1,Ut.ANY_HUB_PORT=-1,Ut.ANY_CHANNEL=-1,Ut.ANY_LABEL=null,Ut.INFINITE_TIMEOUT=0,Ut.DEFAULT_TIMEOUT=2500,Ut.prototype.openTimedOut=function(){this.onclose(V.TIMEOUT,"Open timed out"),this.close()},Ut.prototype._close=function(){if(this.isopen)var t=this.channel.close();return delete this.openTimeout,delete this.openTime,void 0==this.channel||this.channel.detaching?this.useropen=!0:this.id in u&&delete u[this.id],this.isopen?(this.detaching=!0,this.isattached=!1,this.onDetach(this),this.detaching=!1,this.isopen=!1,delete this.channel,delete this.device):this.onclose(V.CLOSED,"Closed while waiting for open"),"undefined"!=typeof t?t:Promise.resolve()},Ut.prototype.handleSetStatus=function(t,e){"data"in this||(this.data={});for(var n in t.entries)this.data[n]=t.entries[n].v},Ut.prototype.checkAttached=function(){if(!this.isattached&&!this.detaching)throw new _t(V.NOT_ATTACHED)},Ut.prototype.checkOpen=function(){if(!this.isopen)throw new _t(V.NOT_ATTACHED)},Ut.prototype.checkIsChannel=function(){if(!this.isChannel)throw new _t(V.UNSUPPORTED)},Ut.prototype.getKey=function(){return this.checkAttached(),this.isChannel?"ch"+this.channel.chid:"dev"+this.device.phid},Ut.prototype.open=function(e){var n=this;if(this.useropen)return Promise.resolve(this);if(!this.isChannel)return Promise.reject(new _t(V.UNSUPPORTED));if(this.manager===!0&&(this.setChannel(this.getChannel()),this.setHubPort(this.getHubPort()),this.setDeviceSerialNumber(this.getDeviceSerialNumber()),this.setIsHubPortDevice(this.getIsHubPortDevice()),this.manager=!1),e){var i=parseInt(e);isNaN(i)||(this.openTimeout=i)}return u[this.id]=this,this.useropen=!0,this.openTime=t(),f(this),new Promise(function(t,e){n.onopen=function(){n.onAttach(n),t(n)},n.onclose=function(t,n){e(new _t(t,n))}})},Ut.prototype.close=function(){return e("closing phidget"),this.useropen=!1,this._close()},Ut.prototype.getAttached=function(){return this.isattached},Ut.prototype.getChannel=function(){return this.checkIsChannel(),this.isattached||this.detaching?this.channel.index:this._channel},Ut.prototype.setChannel=function(t){this.checkIsChannel(),t=parseInt(t),isNaN(t)||(this._channel=t)},Ut.prototype.getChannelClass=function(){return this.checkIsChannel(),this.checkAttached(),this.channel["class"]},Ut.prototype.getChannelClassName=function(){return this.checkIsChannel(),this.checkAttached(),mt[this.channel["class"]]},Ut.prototype.getChannelName=function(){return this.checkIsChannel(),this.checkAttached(),this.channel.name},Ut.prototype.getChannelSubclass=function(){return this.checkIsChannel(),this.checkAttached(),this.channel.subclass},Ut.prototype.getDeviceClass=function(){return this.checkAttached(),this.device["class"]},Ut.prototype.getDeviceClassName=function(){return this.checkAttached(),It[this.device["class"]]},Ut.prototype.getDeviceID=function(){return this.checkAttached(),this.device.deviceID},Ut.prototype.getDeviceLabel=function(){return this.isattached||this.detaching?this.device.label:(this.checkIsChannel(),this._deviceLabel?this._deviceLabel:"")},Ut.prototype.setDeviceLabel=function(t){this.checkIsChannel(),this._deviceLabel=t},Ut.prototype.getDeviceName=function(){return this.checkAttached(),this.device.name},Ut.prototype.getDeviceSerialNumber=function(){return this.isattached||this.detaching?this.device.serialNumber:(this.checkIsChannel(),this._serialNumber)},Ut.prototype.setDeviceSerialNumber=function(t){this.checkIsChannel(),t=parseInt(t),isNaN(t)||(this._serialNumber=t)},Ut.prototype.getDeviceSKU=function(){return this.checkAttached(),this.device.sku},Ut.prototype.getDeviceVersion=function(){return this.checkAttached(),this.device.version},Ut.prototype.getHub=function(){this.checkAttached();for(var t=this.device;void 0!==t&&t["class"]!==H.HUB;)t=t.parent;if(t)return new Ut(null,t)},Ut.prototype.getHubPort=function(){return this.isattached||this.detaching?this.device.hubPort:(this.checkIsChannel(),this._hubPort)},Ut.prototype.setHubPort=function(t){this.checkIsChannel(),t=parseInt(t),isNaN(t)||(this._hubPort=t)},Ut.prototype.getIsChannel=function(){return this.isChannel},Ut.prototype.getIsHubPortDevice=function(){return this.isattached||this.detaching?this.device.isHubPort:(this.checkIsChannel(),this._isHubPort)},Ut.prototype.setIsHubPortDevice=function(t){this.checkIsChannel(),this._isHubPort=!!t},Ut.prototype.getParent=function(){if(this.checkAttached(),this.isChannel)var t=this.channel.parent;else var t=this.device.parent;if(t)return new Ut(null,t)},Ut.prototype.getDeviceDeviceVINTID=function(){return this.checkAttached(),this.device.vintID},Ut.prototype.getDeviceFirmwareUpgradeString=function(){switch(this.checkAttached(),this.device.type){case"USB":case"SPI":return this.device.fwstr;case"VINT":case"MESH":case"LIGHTNING":case"VIRTUAL":return this.device.sku}},Ut.prototype.writeDeviceLabel=function(t){this.checkIsChannel(),this.checkAttached();var e=this;if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"s",value:t}),n.send(this.channel,Ct.BP_WRITELABEL,!1).then(function(n){return e.device.label=t,n})},Ut.prototype.toString=function(){return this.channel?this.channel.toString():this.device?this.device.toString():this.name},_.Phidget=Ut;var wt=function(t){this.isopen=!1,this.id=E++,l[this.id]=this,this.onDeviceAttach=function(t){},this.onDeviceDetach=function(t){},this.onAttach=function(t){},this.onDetach=function(t){},t&&("onDeviceAttach"in t&&"function"==typeof t.onDeviceAttach&&(this.onDeviceAttach=t.onDeviceAttach),"onDeviceDetach"in t&&"function"==typeof t.onDeviceDetach&&(this.onDeviceDetach=t.onDeviceDetach),"onAttach"in t&&"function"==typeof t.onAttach&&(this.onAttach=t.onAttach),"onDetach"in t&&"function"==typeof t.onDetach&&(this.onDetach=t.onDetach))};wt.prototype["delete"]=function(){delete l[this.id]},wt.prototype.open=function(){if(!this.isopen){for(var t in c){t=c[t];for(var e in t.Devices){e=t.Devices[e];var n=new Ut(null,e);this.onDeviceAttach(n)}for(var i in t.Channels){i=t.Channels[i];var a=v(i["class"]),n=new a(i);this.onAttach(n)}}this.isopen=!0}},wt.prototype.close=function(){this.isopen=!1},_.Manager=wt;var Rt=function(t){this.onmessage(t.data)},Bt=function(t){var e=16,n=t.length,i=t;if(this.sockdatalen>0){var a=[this.sockdata,i];i=Buffer.concat(a,this.sockdata.length+i.length),this.sockdata=null,this.sockdatalen=0,n=i.length}if(n>=e)do{var r=new R(i);if(n===r.len+e)return void this.onmessage(i,r);if(n<r.len+e)break;var o=i.slice(0,r.len+e);i=i.slice(r.len+e),n-=o.length,this.onmessage(o,r)}while(n>=e);n>0&&(this.sockdata=i,this.sockdatalen=i.length)},Vt=function(n,o,s){if(void 0!==n&&null!==n&&"object"==typeof n)var h=n;if(void 0!==n&&null!==n&&"string"==typeof n){if(this.uri=n,a){var u=r.parse(this.uri);if("ws:"===u.protocol)throw'websocket not supported with node.js, use "phid://server:port"';if("phid:"!==u.protocol)throw'expected phidget protocol, use "phid://server:port"';this.hostname=u.hostname,this.port=u.port}else this.hostname="uri",this.port="uri";if(void 0!==o&&null!==o&&"object"==typeof o)var h=o}if(void 0!==n&&null!==n&&"number"==typeof n&&(this.port=n,void 0!==o&&null!==o&&"string"==typeof o&&(this.hostname=o,void 0!==s&&null!==s&&"object"==typeof s)))var h=s;this.id=p++,c[this.id]=this,this.generation=0,this.TIMEOUT=5e3,this.connected=!1,this.stayopen=!1,this.websocket=!1,this.ws=null,this.sock=null,this.sockdata=null,this.sockdatalen=0,this.nonceC=null,this.passwd="",this.Channels={},this.Devices={},this.DeviceList=[],this.reqseq=10,this.requests={},this.oChannel=null,this.cChannel=null,this.onError=function(t,e){console.error("Connection error: "+e+":0x"+t.toString(16))},this.onAuthenticationNeeded=function(){console.log("A password is required for this server. Handle the onAuthenticationNeeded event to return a password.")},this.onConnect=function(){},this.onDisconnect=function(){},void 0!==h&&(h.hostname&&void 0===this.hostname&&(this.hostname=h.hostname),h.port&&void 0===this.port&&("number"==typeof h.port&&(this.port=h.port),"string"==typeof h.port&&(this.port=Number(h.port))),h.name&&(this.name=h.name),h.onConnect&&"function"==typeof h.onConnect&&(this.onConnect=h.onConnect),h.onDisconnect&&"function"==typeof h.onDisconnect&&(this.onDisconnect=h.onDisconnect),h.onAuthenticationNeeded&&"function"==typeof h.onAuthenticationNeeded&&(this.onAuthenticationNeeded=h.onAuthenticationNeeded),h.onError&&"function"==typeof h.onError&&(this.onError=h.onError),h.passwd&&(this.passwd=h.passwd)),void 0===this.hostname&&(this.hostname="localhost"),void 0===this.port&&(this.port=a?5661:8989),void 0===this.uri&&(a?this.uri="phid://"+this.hostname+":"+this.port:this.uri="ws://"+this.hostname+":"+this.port+"/phidgets"),void 0===this.name&&(this.name=this.uri),this.onattach=function(t){var e=new Ut(null,t);for(var n in l)l[n].isopen&&l[n].onDeviceAttach(e)},this.ondetach=function(t){var e=new Ut(null,t);for(var n in l)l[n].isopen&&l[n].onDeviceDetach(e)},this.onchannelattach=function(t){var e=v(t["class"]),n=new e(t);for(var i in l)l[i].isopen&&l[i].onAttach(n);A(t)},this.onchanneldetach=function(t){var e=new v(t["class"]),n=new e(t);for(var i in l)l[i].isopen&&l[i].onDetach(n);t.onDetach()},this.matchPhidget=function(t){for(var e in this.Channels)if(this.Channels[e].match(t))return this.Channels[e].open(t)["catch"](function(t){this.onError?this.onError(t.errorCode,t.message):console.error(t)}.bind(t)),!0;return!1},this.onevent=function(t){e("event:"+t)},this.onmessage=function(t,e){var n=new Uint8Array(t);if(e||(e=new R(n)),e.len>0){if(a)var r=t.slice(e.hdrlen);else var r=new Uint8Array(n.buffer,e.hdrlen,e.len);var o=i(r);o=o.replace(/("[OI]"|"phid"|"chid"|"parent"):([0-9]+)/g,'$1:"$2"'),t=JSON.parse(o)}this.connected?this.ondatamessage(t,e):this.onauthmessage(t,e)},this.checkRequests=function(){for(var e in this.requests)if(this.requests[e].generation==this.generation){var n=this.requests[e];if(t()-n.time>this.TIMEOUT)try{n.onTimeout()}catch(i){console.error(i)}finally{delete this.requests[e]}}else delete this.requests[e]},this._xid=setInterval(this.checkRequests.bind(this),2e3),_.onConnectionAdded&&_.onConnectionAdded(this)};Vt.prototype.setKeepAlive=function(t){var e=parseInt(t);if(isNaN(e))throw new Exception("invalid keep alive:"+t);this.TIMEOUT=e},Vt.prototype["delete"]=function(){if(this.connected)throw new _t(V.BUSY,"close connection before deleting");_.onConnectionRemoved&&_.onConnectionRemoved(this),delete c[this.id]},Vt.prototype.getChannel=function(t){if(void 0===this.Channels[t])throw new _t(V.UNEXPECTED,"invalid channel id:"+t);return this.Channels[t]},Vt.prototype.getDevice=function(t){return this.Devices[t]?this.Devices[t]:null},Vt.prototype.close=function(){this.stayopen=!1,this.closesocket()},Vt.prototype.closesocket=function(){if(this.connected===!0&&this.onDisconnect(),this.connected=!1,void 0!=this.ws)try{this.ws.close()}catch(t){}else if(void 0!=this.sock)try{this.sock.destroy(),this.sock.unref()}catch(t){}this.ws=void 0,this.sock=void 0,this.generation++},Vt.prototype.send=function(t,e){var n=this,i=!1;return new Promise(function(a,r){try{if(n.websocket)n.ws&&n.ws.readyState==WebSocket.OPEN||r(new _t(V.UNEXPECTED,"invalid websocket state")),n.ws.send(t),e.length>0&&n.ws.send(e);else{n.sock||r(new _t(V.UNEXPECTED,"invalid socket"));for(var o=new Buffer(t.byteLength),s=0;s<t.length;s++)o[s]=t[s];n.sock.write(o),e.length>0&&n.sock.write(e)}}catch(h){i=!0,r(new _t(V.UNEXPECTED,h.message))}finally{i||a()}})},Vt.prototype.getNextRequestSequence=function(){return this.reqseq>=65535&&(this.reqseq=10),this.reqseq++,this.reqseq},Vt.prototype.sendRequest=function(e,i,a,r,o,s){var h=this;return 0===i&&(i=this.getNextRequestSequence()),new Promise(function(c,p){h.requests[i]={generation:h.generation,time:t(),onReply:function(t){void 0!==t.E?0!==t.E?(void 0!==t.R&&p(new _t(t.E,t.R)),p(new _t(t.E))):c(t.R):c(t)},onTimeout:function(){p(new _t(V.TIMEOUT))},onError:function(t,e){p(new _t(t,e))}};var u=s.replace(/("[OI]"|"phid"|"channel"):"([0-9]+)"/g,"$1:$2");if(h.websocket){var d=n(u),l=new R(d.length,e,i,a,r,o);h.send(l.buffer,d)["catch"](function(t){p(t)})}else{var l=new R(u.length,e,i,a,r,o);h.send(l.buffer,u)["catch"](function(t){p(t)})}})},Vt.prototype.sendReply=function(t,e,i,a){var r=2,o=this.getNextRequestSequence();if(this.websocket){var s=n(a),h=new R(s.length,r,o,t,e,i);return this.send(h.buffer,s)}var h=new R(a.length,r,o,t,e,i);return this.send(h.buffer,a)},Vt.prototype.maintainConnection=function(){this.connected=!0,this.stayopen=!0,void 0===this.connectionMaintainer&&(this.connectionMaintainer=setInterval(function(){var t=this;this.connected!==!0&&this.stayopen===!0&&this.connect()["catch"](function(e){t.onError(e.errorCode,e.message)})}.bind(this),4e3))},Vt.prototype.connect=function(){if(this.connected===!0)return Promise.resolve(this);var t=this;return new Promise(function(e,n){function i(){r=!0,t.handshake().then(function(){t.maintainConnection(),e()})["catch"](function(t){n(t)})}var r=!1;try{if(a){if(t.sock){try{t.sock.close()}catch(s){}delete t.sock}t.sock=new o.Socket,t.sock.on("data",Bt.bind(t)),t.sock.on("close",t.doclose.bind(t)),t.sock.on("error",function(t){var e;switch(t.code){case"ECONNRESET":e=new _t(V.CONNECTION_RESET,t.message);break;case"ECONNREFUSED":e=new _t(V.CONNECTION_REFUSED,t.message);break;default:e=new _t(V.UNEXPECTED,t.message)}this.doclose(),r?this.onError(e.errorCode,e.message):n(e)}.bind(t)),t.sock.on("connect",i.bind(t)),t.sock.connect({host:t.hostname,port:t.port})}else{if(t.ws){try{t.ws.close()}catch(s){}delete t.ws}t.websocket=!0,t.ws=new WebSocket(t.uri),t.ws.onopen=i.bind(t),t.ws.onclose=t.doclose.bind(t),t.ws.onmessage=Rt.bind(t),t.ws.onerror=function(e){this.onError(V.CONNECTION_REFUSED,"websocket error - check that server is available"),t.doclose()}.bind(t),t.ws.binaryType="arraybuffer"}}catch(s){n(new _t(V.UNEXPECTED,s.message))}})},Vt.prototype.doclose=function(){for(;this.DeviceList.length>0;)this.deviceDetach(this.DeviceList[this.DeviceList.length-1]);this.closesocket()},Vt.prototype.onauthmessage=function(t,e){void 0===this.authdata?console.error("packet recieved while not connected and authdata is not defined"):this.authdata(t)},Vt.prototype.ondatamessage=function(t,e){var n=this.requests[e.repseq];if(n&&(delete this.requests[e.repseq],n.onReply(t)),e.flags&U.Reply)return void(void 0===n&&this.onError(V.UNEXPECTED,"No handler registered for reply: "+e));switch(e.type){case D.Command:var i=this.handleCommand(e,t);break;case D.Device:var i=this.handleDevice(e,t);break;case D.Channel:var i=this.handleChannel(e,t);break;default:var i=N(V.INVALID,"Unknown request type:"+e.type)}if(i){var a=this;i["catch"](function(t){a.onError(t.errorCode,t.message)})}},Vt.prototype.handleCommand=function(t,e){switch(t.stype){case L.KeepAlive:return this.sendReply(t.reqseq,D.Command,L.KeepAlive,[]);default:return N(V.UNEXPECTED,"Unknown command subrequest:"+t.stype)}},Vt.prototype.handleDevice=function(t,e){switch(t.stype){case L.Attach:return this.handleDeviceAttach(t,e);case L.Detach:return this.handleDeviceDetach(t,e);case L.BridgePkt:return this.handleBridgePacket(t,e);case L.Channel:return this.handleChannel(t,e);default:return N(V.UNEXPECTED,"Unknown device subrequest:"+t.stype)}},Vt.prototype.handleDeviceAttach=function(t,e){var n=new Dt(this,e);return n.phid in this.Devices?N(V.DUPLICATE,"duplicate device:"+n):(this.Devices[n.phid]=n,this.DeviceList.push(n),this.onattach(n),Promise.resolve())},Vt.prototype.handleDeviceDetach=function(t,e){var n;return n=this.getDevice(e.phid),n!==-1&&this.deviceDetach(n),Promise.resolve()},Vt.prototype.deviceDetach=function(t){if(!(t.phid in this.Devices))return N(V.NO_SUCH_ENTITY,"no such device:"+t);for(var e in this.Channels)this.Channels[e].parent===t&&(this.onchanneldetach(this.Channels[e]),delete this.Channels[e]);return this.ondetach(t),delete this.Devices[t.phid],this.DeviceList.splice(this.DeviceList.indexOf(t),1),Promise.resolve()},Vt.prototype.handleChannel=function(t,e){var n,i;return n=this.getDevice(e.parent),null===n?N(V.UNEXPECTED,"missing channel parent"):(i=new Lt(this,n,e),this.Channels[i.chid]=i,this.onchannelattach(i),Promise.resolve())},Vt.prototype.handleBridgePacket=function(t,e){var n=new Ot(this,t,e);return n.deliver()},Vt.prototype.handshake=function(){var t=this;return new Promise(function(e,n){function i(){var e=JSON.stringify({name:C,type:O,pmajor:I,pminor:m}),i=new R(e.length,0,0,0,D.Connect,L.HandShakeC0);t.send(i.buffer,e)["catch"](function(t){n(t)})}function a(t){if(0!==t.result)return void n(new _t(t.result,"server rejected handshake"));this.nonceC=T(16);var i=JSON.stringify({ident:S,nonceC:this.nonceC}),a=new R(i.length,0,0,0,D.Connect,L.AuthC0);this.send(a.buffer,i)["catch"](function(t){n(t)}),this.authdata=function(t){if(0!==t.result)return void n(new _t(t.result,"authentication failed"));if(this.nonceC!=t.nonceC)return void n(new _t(V.UNEXPECTED,"Authentication Failure: nonce do not match ("+this.nonceC+") vs ("+t.nonceC+")"));var i=S+this.passwd+this.nonceC+t.nonceS+t.salt,r=this.hash(i),o=JSON.stringify({nonceC:this.nonceC,nonceS:t.nonceS,proof:r});a=new R(o.length,0,0,0,D.Connect,L.AuthC1),this.send(a.buffer,o)["catch"](function(t){n(t)}),this.authdata=function(t){if(0!=t.E){if(this.onAuthenticationNeeded){var i=this.onAuthenticationNeeded();if(void 0!==i&&"string"==typeof i)return this.passwd=i,delete this.authdata,void setTimeout(function(){this.connect().then(function(){e()})["catch"](function(t){n(t)})}.bind(this),100)}return void n(new _t(t.E,"authentication failed: server rejected proof"))}this.connected=!0,delete this.authdata,this.onConnect(),e()}}}t.authdata=a,i()})},Vt.prototype.hash=function(t){if(a){var e=s.createHash("sha256");return e.update(t),e.digest("base64")}for(var n=Sha256.hash(t),i="",r=0;r<n.length;r+=2){var o=parseInt(n.substring(r,r+2),16);i+=String.fromCharCode(o)}return window.btoa(i)},_.Connection=Vt;var kt=function(){Ut.apply(this,arguments),this.name="Accelerometer",this["class"]=b.ACCELEROMETER,this.onAccelerationChange=function(t,e){},this.onError=function(t,e){}};kt.prototype=Object.create(Ut.prototype),kt.prototype.constructor=kt,_.Accelerometer=kt,kt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},kt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},kt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,3);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_ACCELERATIONCHANGE:this.handleAccelerationChangeEvent(t)}return!0},kt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETCHANGETRIGGER:return this.data.accelerationChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("AccelerationChangeTrigger"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETHEATINGENABLED:return this.data.heatingEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HeatingEnabled"),!0;case Ct.BP_SETSPATIALPRECISION:return this.data.precision=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Precision"),!0}},kt.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.acceleration},kt.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAcceleration},kt.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAcceleration},kt.prototype.getAccelerationChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.accelerationChangeTrigger||this.data.accelerationChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.accelerationChangeTrigger},kt.prototype.setAccelerationChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},kt.prototype.getMinAccelerationChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minAccelerationChangeTrigger||this.data.minAccelerationChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAccelerationChangeTrigger},kt.prototype.getMaxAccelerationChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxAccelerationChangeTrigger||this.data.maxAccelerationChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAccelerationChangeTrigger},kt.prototype.getAxisCount=function(){if(this.checkOpen(),void 0===this.data.axisCount||this.data.axisCount===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.axisCount},kt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},kt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},kt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},kt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},kt.prototype.getHeatingEnabled=function(){if(this.checkOpen(),void 0===this.data.heatingEnabled||this.data.heatingEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.heatingEnabled},kt.prototype.setHeatingEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETHEATINGENABLED)},kt.prototype.getPrecision=function(){if(this.checkOpen(),void 0===this.data.precision||this.data.precision===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.precision},kt.prototype.setPrecision=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPATIALPRECISION)},kt.prototype.getTimestamp=function(){if(this.checkOpen(),void 0===this.data.timestamp||this.data.timestamp===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.timestamp},kt.prototype.handleAccelerationChangeEvent=function(t){this.data.acceleration=t.get("0"),this.data.timestamp=t.get("1"),this.onAccelerationChange(this.data.acceleration,this.data.timestamp)},kt.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;default:return!1}};var Mt=function(){Ut.apply(this,arguments),this.name="BLDCMotor",this["class"]=b.BLDC_MOTOR,this.onBrakingStrengthChange=function(t){},this.onPositionChange=function(t){},this.onVelocityUpdate=function(t){},this.onError=function(t,e){}};Mt.prototype=Object.create(Ut.prototype),Mt.prototype.constructor=Mt,_.BLDCMotor=Mt,Mt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Mt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Mt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);
break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_BRAKINGSTRENGTHCHANGE:this.handleBrakingStrengthChangeEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t);break;case Ct.BP_DUTYCYCLECHANGE:this.handleVelocityUpdateEvent(t)}return!0},Mt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETACCELERATION:return this.data.acceleration=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Acceleration"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETSTALLVELOCITY:return this.data.stallVelocity=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("StallVelocity"),!0;case Ct.BP_SETBRAKINGDUTYCYCLE:return this.data.targetBrakingStrength=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetBrakingStrength"),!0;case Ct.BP_SETDUTYCYCLE:return this.data.targetVelocity=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetVelocity"),!0}},Mt.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.acceleration},Mt.prototype.setAcceleration=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETACCELERATION)},Mt.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAcceleration},Mt.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAcceleration},Mt.prototype.getBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.brakingStrength||this.data.brakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.brakingStrength},Mt.prototype.getMinBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.minBrakingStrength||this.data.minBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minBrakingStrength},Mt.prototype.getMaxBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.maxBrakingStrength||this.data.maxBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxBrakingStrength},Mt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Mt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Mt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Mt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Mt.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},Mt.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},Mt.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},Mt.prototype.getRescaleFactor=function(){if(this.checkOpen(),void 0===this.data.rescaleFactor||this.data.rescaleFactor===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.rescaleFactor},Mt.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},Mt.prototype.getTargetBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.targetBrakingStrength||this.data.targetBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.targetBrakingStrength},Mt.prototype.setTargetBrakingStrength=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETBRAKINGDUTYCYCLE)},Mt.prototype.getTargetVelocity=function(){if(this.checkOpen(),void 0===this.data.targetVelocity||this.data.targetVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.targetVelocity},Mt.prototype.setTargetVelocity=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETDUTYCYCLE)},Mt.prototype.getVelocity=function(){if(this.checkOpen(),void 0===this.data.velocity||this.data.velocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocity},Mt.prototype.getMinVelocity=function(){if(this.checkOpen(),void 0===this.data.minVelocity||this.data.minVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVelocity},Mt.prototype.getMaxVelocity=function(){if(this.checkOpen(),void 0===this.data.maxVelocity||this.data.maxVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVelocity},Mt.prototype.handleBrakingStrengthChangeEvent=function(t){this.data.brakingStrength=t.get("0"),this.onBrakingStrengthChange(this.data.brakingStrength)},Mt.prototype.handleVelocityUpdateEvent=function(t){this.data.velocity=t.get("0"),this.onVelocityUpdate(this.data.velocity)},Mt.prototype.getPosition=function(){if(this.checkOpen(),void 0===this.data.position||this.data.position===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.position*this.data.rescaleFactor},Mt.prototype.getMinPosition=function(){if(this.checkOpen(),void 0===this.data.minPosition||this.data.minPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.minPosition+this.data.positionOffset)*this.data.rescaleFactor},Mt.prototype.getMaxPosition=function(){if(this.checkOpen(),void 0===this.data.maxPosition||this.data.maxPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.maxPosition+this.data.positionOffset)*this.data.rescaleFactor},Mt.prototype.addPositionOffset=function(t){this.checkOpen(),this.data.positionOffset+=t/this.data.rescaleFactor},Mt.prototype.setRescaleFactor=function(t){this.checkOpen(),this.data.rescaleFactor=t},Mt.prototype.getStallVelocity=function(){if(this.checkOpen(),void 0===this.data.stallVelocity||this.data.stallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.stallVelocity*this.data.rescaleFactor},Mt.prototype.setStallVelocity=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:e}),n.send(this.channel,Ct.BP_SETSTALLVELOCITY)},Mt.prototype.getMinStallVelocity=function(){if(this.checkOpen(),void 0===this.data.minStallVelocity||this.data.minStallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minStallVelocity*this.data.rescaleFactor},Mt.prototype.getMaxStallVelocity=function(){if(this.checkOpen(),void 0===this.data.maxStallVelocity||this.data.maxStallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxStallVelocity*this.data.rescaleFactor},Mt.prototype.handlePositionChangeEvent=function(t){this.data.position=t.get("0"),this.onPositionChange((this.data.position+this.data.positionOffset)*this.data.rescaleFactor)};var Ht=function(){Ut.apply(this,arguments),this.name="CapacitiveTouch",this["class"]=b.CAPACITIVE_TOUCH,this.onTouch=function(t){},this.onTouchEnd=function(){},this.onError=function(t,e){}};Ht.prototype=Object.create(Ut.prototype),Ht.prototype.constructor=Ht,_.CapacitiveTouch=Ht,Ht.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Ht.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Ht.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,2);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_TOUCHINPUTVALUECHANGE:this.handleTouchEvent(t);break;case Ct.BP_TOUCHINPUTEND:this.handleTouchEndEvent(t)}return!0},Ht.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETSENSITIVITY:return this.data.sensitivity=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Sensitivity"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.touchValueChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TouchValueChangeTrigger"),!0}},Ht.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Ht.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Ht.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Ht.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Ht.prototype.getIsTouched=function(){if(this.checkOpen(),void 0===this.data.isTouched||this.data.isTouched===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.isTouched},Ht.prototype.getSensitivity=function(){if(this.checkOpen(),void 0===this.data.sensitivity||this.data.sensitivity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensitivity},Ht.prototype.setSensitivity=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETSENSITIVITY)},Ht.prototype.getMinSensitivity=function(){if(this.checkOpen(),void 0===this.data.minSensitivity||this.data.minSensitivity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minSensitivity},Ht.prototype.getMaxSensitivity=function(){if(this.checkOpen(),void 0===this.data.maxSensitivity||this.data.maxSensitivity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxSensitivity},Ht.prototype.getTouchValue=function(){if(this.checkOpen(),void 0===this.data.touchValue||this.data.touchValue===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.touchValue},Ht.prototype.getMinTouchValue=function(){if(this.checkOpen(),void 0===this.data.minTouchValue||this.data.minTouchValue===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minTouchValue},Ht.prototype.getMaxTouchValue=function(){if(this.checkOpen(),void 0===this.data.maxTouchValue||this.data.maxTouchValue===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxTouchValue},Ht.prototype.getTouchValueChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.touchValueChangeTrigger||this.data.touchValueChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.touchValueChangeTrigger},Ht.prototype.setTouchValueChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Ht.prototype.getMinTouchValueChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minTouchValueChangeTrigger||this.data.minTouchValueChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minTouchValueChangeTrigger},Ht.prototype.getMaxTouchValueChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxTouchValueChangeTrigger||this.data.maxTouchValueChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxTouchValueChangeTrigger},Ht.prototype.handleTouchEvent=function(t){this.data.touchValue=t.get("0"),this.onTouch(this.data.touchValue)},Ht.prototype.handleTouchEndEvent=function(t){this.onTouchEnd()},Ht.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_TOUCHINPUTVALUECHANGE:return this.data.isTouched=!0,!1;case Ct.BP_TOUCHINPUTEND:return this.data.isTouched=!1,!1}};var bt=function(){Ut.apply(this,arguments),this.name="CurrentInput",this["class"]=b.CURRENT_INPUT,this.onCurrentChange=function(t){},this.onError=function(t,e){}};bt.prototype=Object.create(Ut.prototype),bt.prototype.constructor=bt,_.CurrentInput=bt,bt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},bt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},bt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_CURRENTCHANGE:this.handleCurrentChangeEvent(t)}return!0},bt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETCHANGETRIGGER:return this.data.currentChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentChangeTrigger"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETPOWERSUPPLY:return this.data.powerSupply=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PowerSupply"),!0}},bt.prototype.getCurrent=function(){if(this.checkOpen(),void 0===this.data.current||this.data.current===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.current},bt.prototype.getMinCurrent=function(){if(this.checkOpen(),void 0===this.data.minCurrent||this.data.minCurrent===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrent},bt.prototype.getMaxCurrent=function(){if(this.checkOpen(),void 0===this.data.maxCurrent||this.data.maxCurrent===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrent},bt.prototype.getCurrentChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.currentChangeTrigger||this.data.currentChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentChangeTrigger},bt.prototype.setCurrentChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},bt.prototype.getMinCurrentChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minCurrentChangeTrigger||this.data.minCurrentChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentChangeTrigger},bt.prototype.getMaxCurrentChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxCurrentChangeTrigger||this.data.maxCurrentChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentChangeTrigger},bt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},bt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},bt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},bt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},bt.prototype.getPowerSupply=function(){if(this.checkOpen(),void 0===this.data.powerSupply||this.data.powerSupply===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.powerSupply},bt.prototype.setPowerSupply=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETPOWERSUPPLY)},bt.prototype.handleCurrentChangeEvent=function(t){this.data.current=t.get("0"),this.onCurrentChange(this.data.current)};var Gt=function(){Ut.apply(this,arguments),this.name="DCMotor",this["class"]=b.DC_MOTOR,this.onBrakingStrengthChange=function(t){},this.onVelocityUpdate=function(t){},this.onBackEMFChange=function(t){},this.onError=function(t,e){}};Gt.prototype=Object.create(Ut.prototype),Gt.prototype.constructor=Gt,_.DCMotor=Gt,Gt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Gt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Gt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_BACKEMFCHANGE:this.handleBackEMFChangeEvent(t);break;case Ct.BP_BRAKINGSTRENGTHCHANGE:this.handleBrakingStrengthChangeEvent(t);break;case Ct.BP_DUTYCYCLECHANGE:this.handleVelocityUpdateEvent(t)}return!0},Gt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETACCELERATION:return this.data.acceleration=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Acceleration"),!0;case Ct.BP_SETBACKEMFSENSINGSTATE:return this.data.backEMFSensingState=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("BackEMFSensingState"),!0;case Ct.BP_SETCURRENTLIMIT:return this.data.currentLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentLimit"),!0;case Ct.BP_SETCURRENTREGULATORGAIN:return this.data.currentRegulatorGain=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentRegulatorGain"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETFANMODE:return this.data.fanMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("FanMode"),!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETBRAKINGDUTYCYCLE:return this.data.targetBrakingStrength=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetBrakingStrength"),!0;case Ct.BP_SETDUTYCYCLE:return this.data.targetVelocity=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetVelocity"),!0}},Gt.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.acceleration},Gt.prototype.setAcceleration=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETACCELERATION)},Gt.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAcceleration},Gt.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAcceleration},Gt.prototype.getBackEMF=function(){if(this.checkOpen(),void 0===this.data.backEMF||this.data.backEMF===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.backEMF},Gt.prototype.getBackEMFSensingState=function(){if(this.checkOpen(),void 0===this.data.backEMFSensingState||this.data.backEMFSensingState===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.backEMFSensingState},Gt.prototype.setBackEMFSensingState=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETBACKEMFSENSINGSTATE)},Gt.prototype.getBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.brakingStrength||this.data.brakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.brakingStrength},Gt.prototype.getMinBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.minBrakingStrength||this.data.minBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minBrakingStrength},Gt.prototype.getMaxBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.maxBrakingStrength||this.data.maxBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxBrakingStrength},Gt.prototype.getCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.currentLimit||this.data.currentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentLimit},Gt.prototype.setCurrentLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCURRENTLIMIT)},Gt.prototype.getMinCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.minCurrentLimit||this.data.minCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentLimit},Gt.prototype.getMaxCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.maxCurrentLimit||this.data.maxCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentLimit},Gt.prototype.getCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.currentRegulatorGain||this.data.currentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentRegulatorGain},Gt.prototype.setCurrentRegulatorGain=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCURRENTREGULATORGAIN)},Gt.prototype.getMinCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.minCurrentRegulatorGain||this.data.minCurrentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentRegulatorGain},Gt.prototype.getMaxCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.maxCurrentRegulatorGain||this.data.maxCurrentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentRegulatorGain},Gt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Gt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Gt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Gt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Gt.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},Gt.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},Gt.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},Gt.prototype.getFanMode=function(){if(this.checkOpen(),void 0===this.data.fanMode||this.data.fanMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.fanMode},Gt.prototype.setFanMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETFANMODE)},Gt.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},Gt.prototype.getTargetBrakingStrength=function(){if(this.checkOpen(),void 0===this.data.targetBrakingStrength||this.data.targetBrakingStrength===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.targetBrakingStrength},Gt.prototype.setTargetBrakingStrength=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETBRAKINGDUTYCYCLE)},Gt.prototype.getTargetVelocity=function(){if(this.checkOpen(),void 0===this.data.targetVelocity||this.data.targetVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.targetVelocity},Gt.prototype.setTargetVelocity=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETDUTYCYCLE)},Gt.prototype.getVelocity=function(){if(this.checkOpen(),void 0===this.data.velocity||this.data.velocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocity},Gt.prototype.getMinVelocity=function(){if(this.checkOpen(),void 0===this.data.minVelocity||this.data.minVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVelocity},Gt.prototype.getMaxVelocity=function(){if(this.checkOpen(),void 0===this.data.maxVelocity||this.data.maxVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVelocity},Gt.prototype.handleBackEMFChangeEvent=function(t){this.data.backEMF=t.get("0"),this.onBackEMFChange(this.data.backEMF)},Gt.prototype.handleBrakingStrengthChangeEvent=function(t){this.data.brakingStrength=t.get("0"),this.onBrakingStrengthChange(this.data.brakingStrength)},Gt.prototype.handleVelocityUpdateEvent=function(t){this.data.velocity=t.get("0"),this.onVelocityUpdate(this.data.velocity)};var Wt=function(){Ut.apply(this,arguments),this.name="Dictionary",this["class"]=b.DICTIONARY,this.onAdd=function(t,e){},this.onUpdate=function(t,e){},this.onRemove=function(t){},this.onError=function(t,e){}};Wt.prototype=Object.create(Ut.prototype),Wt.prototype.constructor=Wt,_.Dictionary=Wt,Wt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Wt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Wt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_DICTIONARYADDED:this.handleAddEvent(t);break;case Ct.BP_DICTIONARYREMOVED:this.handleRemoveEvent(t);break;case Ct.BP_DICTIONARYUPDATED:this.handleUpdateEvent(t)}return!0},Wt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_DICTIONARYADD:return!0;case Ct.BP_DICTIONARYREMOVEALL:return!0;case Ct.BP_DICTIONARYGET:return!0;case Ct.BP_DICTIONARYREMOVE:return!0;case Ct.BP_DICTIONARYSCAN:return!0;case Ct.BP_DICTIONARYSET:return!0;case Ct.BP_DICTIONARYUPDATE:return!0}},Wt.prototype.add=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"s",value:t}),n.set({name:"1",type:"s",value:e}),n.send(this.channel,Ct.BP_DICTIONARYADD)},Wt.prototype.removeAll=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_DICTIONARYREMOVEALL)},Wt.prototype.remove=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"s",value:t}),e.send(this.channel,Ct.BP_DICTIONARYREMOVE)},Wt.prototype.set=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"s",value:t}),n.set({name:"1",type:"s",value:e}),n.send(this.channel,Ct.BP_DICTIONARYSET)},Wt.prototype.update=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"s",value:t}),n.set({name:"1",type:"s",value:e}),n.send(this.channel,Ct.BP_DICTIONARYUPDATE)},Wt.prototype.handleAddEvent=function(t){var e=t.get("0"),n=t.get("1");this.onAdd(e,n)},Wt.prototype.handleRemoveEvent=function(t){var e=t.get("0");this.onRemove(e)},Wt.prototype.handleUpdateEvent=function(t){var e=t.get("0"),n=t.get("1");this.onUpdate(e,n)},Wt.prototype.get=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=this;return new Promise(function(i,a){var r=new Ot(n.channel.conn);r.set({name:"0",type:"s",value:t}),r.send(n.channel,Ct.BP_DICTIONARYGET).then(function(t){i(t)})["catch"](function(n){void 0!==e?i(e,t):a(n)})})},Wt.prototype.scan=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=this,n=new Ot(this.channel.conn);return n.set({name:"0",type:"s",value:t}),n.send(e.channel,Ct.BP_DICTIONARYSCAN).then(function(t){return 0==t.length?[]:t.trim().split("\n")})};var xt=function(){Ut.apply(this,arguments),this.name="DigitalInput",this["class"]=b.DIGITAL_INPUT,this.onStateChange=function(t){},this.onError=function(t,e){}};xt.prototype=Object.create(Ut.prototype),xt.prototype.constructor=xt,_.DigitalInput=xt,xt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},xt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},xt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_STATECHANGE:this.handleStateChangeEvent(t)}return!0},xt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETINPUTMODE:return this.data.inputMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("InputMode"),!0;case Ct.BP_SETPOWERSUPPLY:return this.data.powerSupply=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PowerSupply"),!0}},xt.prototype.getInputMode=function(){if(this.checkOpen(),void 0===this.data.inputMode||this.data.inputMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.inputMode},xt.prototype.setInputMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETINPUTMODE)},xt.prototype.getPowerSupply=function(){if(this.checkOpen(),void 0===this.data.powerSupply||this.data.powerSupply===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.powerSupply},xt.prototype.setPowerSupply=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETPOWERSUPPLY)},xt.prototype.getState=function(){if(this.checkOpen(),void 0===this.data.state||this.data.state===w.BOOL)throw new _t(V.UNKNOWN_VALUE);
return!!this.data.state},xt.prototype.handleStateChangeEvent=function(t){this.data.state=!!t.get("0"),this.onStateChange(this.data.state)};var Ft=function(){Ut.apply(this,arguments),this.name="DigitalOutput",this["class"]=b.DIGITAL_OUTPUT,this.onError=function(t,e){}};Ft.prototype=Object.create(Ut.prototype),Ft.prototype.constructor=Ft,_.DigitalOutput=Ft,Ft.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Ft.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Ft.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,2);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t)}return!0},Ft.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDUTYCYCLE:return this.data.dutyCycle=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DutyCycle"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETFREQUENCY:return this.data.frequency=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Frequency"),!0;case Ct.BP_SETLEDCURRENTLIMIT:return this.data.LEDCurrentLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("LEDCurrentLimit"),!0;case Ct.BP_SETLEDFORWARDVOLTAGE:return this.data.LEDForwardVoltage=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("LEDForwardVoltage"),!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETSTATE:return this.data.state=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("State"),!0}},Ft.prototype.getDutyCycle=function(){if(this.checkOpen(),void 0===this.data.dutyCycle||this.data.dutyCycle===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.dutyCycle},Ft.prototype.setDutyCycle=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETDUTYCYCLE)},Ft.prototype.getMinDutyCycle=function(){if(this.checkOpen(),void 0===this.data.minDutyCycle||this.data.minDutyCycle===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minDutyCycle},Ft.prototype.getMaxDutyCycle=function(){if(this.checkOpen(),void 0===this.data.maxDutyCycle||this.data.maxDutyCycle===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDutyCycle},Ft.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},Ft.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},Ft.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},Ft.prototype.getFrequency=function(){if(this.checkOpen(),void 0===this.data.frequency||this.data.frequency===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.frequency},Ft.prototype.setFrequency=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETFREQUENCY)},Ft.prototype.getMinFrequency=function(){if(this.checkOpen(),void 0===this.data.minFrequency||this.data.minFrequency===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minFrequency},Ft.prototype.getMaxFrequency=function(){if(this.checkOpen(),void 0===this.data.maxFrequency||this.data.maxFrequency===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFrequency},Ft.prototype.getLEDCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.LEDCurrentLimit||this.data.LEDCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.LEDCurrentLimit},Ft.prototype.setLEDCurrentLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETLEDCURRENTLIMIT)},Ft.prototype.getMinLEDCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.minLEDCurrentLimit||this.data.minLEDCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minLEDCurrentLimit},Ft.prototype.getMaxLEDCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.maxLEDCurrentLimit||this.data.maxLEDCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxLEDCurrentLimit},Ft.prototype.getLEDForwardVoltage=function(){if(this.checkOpen(),void 0===this.data.LEDForwardVoltage||this.data.LEDForwardVoltage===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.LEDForwardVoltage},Ft.prototype.setLEDForwardVoltage=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETLEDFORWARDVOLTAGE)},Ft.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},Ft.prototype.getState=function(){if(this.checkOpen(),void 0===this.data.state||this.data.state===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.state},Ft.prototype.setState=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSTATE)},Ft.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDUTYCYCLE:return this.data.state=t.entries[0].v?1:0,!1;case Ct.BP_SETSTATE:return this.data.dutyCycle=t.entries[0].v?1:0,!1}};var Kt=function(){Ut.apply(this,arguments),this.name="DistanceSensor",this["class"]=b.DISTANCE_SENSOR,this.onDistanceChange=function(t){},this.onSonarReflectionsUpdate=function(t,e,n){},this.onError=function(t,e){}};Kt.prototype=Object.create(Ut.prototype),Kt.prototype.constructor=Kt,_.DistanceSensor=Kt,Kt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Kt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Kt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_DISTANCECHANGE:this.handleDistanceChangeEvent(t);break;case Ct.BP_SONARUPDATE:this.handleSonarReflectionsUpdateEvent(t)}return!0},Kt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.distanceChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DistanceChangeTrigger"),!0;case Ct.BP_SETSONARQUIETMODE:return this.data.sonarQuietMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SonarQuietMode"),!0}},Kt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Kt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Kt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Kt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Kt.prototype.getDistance=function(){if(this.checkOpen(),void 0===this.data.distance||this.data.distance===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.distance},Kt.prototype.getMinDistance=function(){if(this.checkOpen(),void 0===this.data.minDistance||this.data.minDistance===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDistance},Kt.prototype.getMaxDistance=function(){if(this.checkOpen(),void 0===this.data.maxDistance||this.data.maxDistance===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDistance},Kt.prototype.getDistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.distanceChangeTrigger||this.data.distanceChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.distanceChangeTrigger},Kt.prototype.setDistanceChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Kt.prototype.getMinDistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minDistanceChangeTrigger||this.data.minDistanceChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDistanceChangeTrigger},Kt.prototype.getMaxDistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxDistanceChangeTrigger||this.data.maxDistanceChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDistanceChangeTrigger},Kt.prototype.getSonarQuietMode=function(){if(this.checkOpen(),void 0===this.data.sonarQuietMode||this.data.sonarQuietMode===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.sonarQuietMode},Kt.prototype.setSonarQuietMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSONARQUIETMODE)},Kt.prototype.handleDistanceChangeEvent=function(t){this.data.distance=t.get("0"),this.onDistanceChange(this.data.distance)},Kt.prototype.handleSonarReflectionsUpdateEvent=function(t){var e=t.get("0"),n=t.get("1"),i=t.get("2");this.onSonarReflectionsUpdate(e,n,i)},Kt.prototype.getSonarReflections=function(){return this.checkOpen(),{distances:this.data.distances,amplitudes:this.data.amplitudes,count:this.data.count}};var Yt=function(){Ut.apply(this,arguments),this.name="Encoder",this["class"]=b.ENCODER,this.onPositionChange=function(t,e,n){},this.onError=function(t,e){}};Yt.prototype=Object.create(Ut.prototype),Yt.prototype.constructor=Yt,_.Encoder=Yt,Yt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Yt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Yt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t)}return!0},Yt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETENABLED:return this.data.enabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Enabled"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETIOMODE:return this.data.IOMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("IOMode"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.positionChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PositionChangeTrigger"),!0}},Yt.prototype.setEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENABLED)},Yt.prototype.getEnabled=function(){if(this.checkOpen(),void 0===this.data.enabled||this.data.enabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.enabled},Yt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Yt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Yt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Yt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Yt.prototype.getIndexPosition=function(){if(this.checkOpen(),void 0===this.data.indexPosition||this.data.indexPosition===w.INT64)throw new _t(V.UNKNOWN_VALUE);return this.data.indexPosition},Yt.prototype.getIOMode=function(){if(this.checkOpen(),void 0===this.data.IOMode||this.data.IOMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.IOMode},Yt.prototype.setIOMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETIOMODE)},Yt.prototype.getPosition=function(){if(this.checkOpen(),void 0===this.data.position||this.data.position===w.INT64)throw new _t(V.UNKNOWN_VALUE);return this.data.position},Yt.prototype.getPositionChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.positionChangeTrigger||this.data.positionChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.positionChangeTrigger},Yt.prototype.setPositionChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Yt.prototype.getMinPositionChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minPositionChangeTrigger||this.data.minPositionChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minPositionChangeTrigger},Yt.prototype.getMaxPositionChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxPositionChangeTrigger||this.data.maxPositionChangeTrigger===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPositionChangeTrigger},Yt.prototype.handlePositionChangeEvent=function(t){var e=t.get("0"),n=t.get("1"),i=t.get("2"),a=0;i&&(a=t.get("3"),this.data.indexPosition=this.data.position+a),this.data.position+=e,this.onPositionChange(e,n,i)},Yt.prototype.setPosition=function(t){this.checkOpen(),1e300!=this.data.indexPosition&&(this.data.indexPosition+=t-this.data.position),this.data.position=t};var qt=function(){Ut.apply(this,arguments),this.name="FirmwareUpgrade",this["class"]=b.FIRMWARE_UPGRADE,this.onProgressChange=function(t){},this.onError=function(t,e){}};qt.prototype=Object.create(Ut.prototype),qt.prototype.constructor=qt,_.FirmwareUpgrade=qt,qt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},qt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},qt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_PROGRESSCHANGE:this.handleProgressChangeEvent(t)}return!0},qt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SENDFIRMWARE:return!0}},qt.prototype.getActualDeviceID=function(){if(this.checkOpen(),void 0===this.data.actualDeviceID||this.data.actualDeviceID===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.actualDeviceID},qt.prototype.getActualDeviceName=function(){if(this.checkOpen(),void 0===this.data.actualDeviceName||this.data.actualDeviceName===NULL)throw new _t(V.UNKNOWN_VALUE);return this.data.actualDeviceName},qt.prototype.getActualDeviceSKU=function(){if(this.checkOpen(),void 0===this.data.actualDeviceSKU||this.data.actualDeviceSKU===NULL)throw new _t(V.UNKNOWN_VALUE);return this.data.actualDeviceSKU},qt.prototype.getActualDeviceVersion=function(){if(this.checkOpen(),void 0===this.data.actualDeviceVersion||this.data.actualDeviceVersion===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.actualDeviceVersion},qt.prototype.getActualDeviceVINTID=function(){if(this.checkOpen(),void 0===this.data.actualDeviceVINTID||this.data.actualDeviceVINTID===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.actualDeviceVINTID},qt.prototype.getProgress=function(){if(this.checkOpen(),void 0===this.data.progress||this.data.progress===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.progress},qt.prototype.sendFirmware=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"c",value:t}),e.set({name:"1",type:"d",value:dataLen}),e.send(this.channel,Ct.BP_SENDFIRMWARE)},qt.prototype.handleProgressChangeEvent=function(t){this.data.progress=t.get("0"),this.onProgressChange(this.data.progress)};var Xt=function(){Ut.apply(this,arguments),this.name="FrequencyCounter",this["class"]=b.FREQUENCY_COUNTER,this.onFrequencyChange=function(t){},this.onCountChange=function(t,e){},this.onError=function(t,e){}};Xt.prototype=Object.create(Ut.prototype),Xt.prototype.constructor=Xt,_.FrequencyCounter=Xt,Xt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Xt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Xt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,2);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_COUNTCHANGE:this.handleCountChangeEvent(t);break;case Ct.BP_FREQUENCYCHANGE:this.handleFrequencyChangeEvent(t)}return!0},Xt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETENABLED:return this.data.enabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Enabled"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETFILTERTYPE:return this.data.filterType=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("FilterType"),!0;case Ct.BP_SETINPUTMODE:return this.data.inputMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("InputMode"),!0;case Ct.BP_SETPOWERSUPPLY:return this.data.powerSupply=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PowerSupply"),!0}},Xt.prototype.getCount=function(){if(this.checkOpen(),void 0===this.data.count||this.data.count===w.UINT64)throw new _t(V.UNKNOWN_VALUE);return this.data.count},Xt.prototype.getEnabled=function(){if(this.checkOpen(),void 0===this.data.enabled||this.data.enabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.enabled},Xt.prototype.setEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENABLED)},Xt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Xt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Xt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Xt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Xt.prototype.getFilterType=function(){if(this.checkOpen(),void 0===this.data.filterType||this.data.filterType===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.filterType},Xt.prototype.setFilterType=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETFILTERTYPE)},Xt.prototype.getFrequency=function(){if(this.checkOpen(),void 0===this.data.frequency||this.data.frequency===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.frequency},Xt.prototype.getMaxFrequency=function(){if(this.checkOpen(),void 0===this.data.maxFrequency||this.data.maxFrequency===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFrequency},Xt.prototype.getFrequencyCutoff=function(){if(this.checkOpen(),void 0===this.data.frequencyCutoff||this.data.frequencyCutoff===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.frequencyCutoff},Xt.prototype.getMinFrequencyCutoff=function(){if(this.checkOpen(),void 0===this.data.minFrequencyCutoff||this.data.minFrequencyCutoff===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minFrequencyCutoff},Xt.prototype.getMaxFrequencyCutoff=function(){if(this.checkOpen(),void 0===this.data.maxFrequencyCutoff||this.data.maxFrequencyCutoff===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFrequencyCutoff},Xt.prototype.getInputMode=function(){if(this.checkOpen(),void 0===this.data.inputMode||this.data.inputMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.inputMode},Xt.prototype.setInputMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETINPUTMODE)},Xt.prototype.getPowerSupply=function(){if(this.checkOpen(),void 0===this.data.powerSupply||this.data.powerSupply===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.powerSupply},Xt.prototype.setPowerSupply=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETPOWERSUPPLY)},Xt.prototype.getTimeElapsed=function(){if(this.checkOpen(),void 0===this.data.timeElapsed||this.data.timeElapsed===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.timeElapsed},Xt.prototype.handleCountChangeEvent=function(t){var e=t.get("0"),n=t.get("1");this.onCountChange(e,n)},Xt.prototype.handleFrequencyChangeEvent=function(t){this.data.frequency=t.get("0"),this.onFrequencyChange(this.data.frequency)},Xt.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_FREQUENCYDATA:var e,n,i,a,r=t.get("0"),o=t.get("1"),s=t.get("2");if(this.data.timeElapsed+=r,this.data.count+=o,0==o)return this.data.hasOwnProperty("totalTicksSinceLastCount")||(this.data.totalTicksSinceLastCount=0),!!Number.isNaN(this.data.totalTicksSinceLastCount)||(this.data.totalTicksSinceLastCount+=r,n=Math.round(1e3/this.data.frequencyCutoff),this.data.totalTicksSinceLastCount>n&&(this.data.frequency=0,this.onCountChange(0,this.data.totalTicksSinceLastCount),this.onFrequencyChange(this.data.frequency),this.data.totalTicksSinceLastCount=Number.NaN),!0);if(Number.isNaN(this.data.totalTicksSinceLastCount))return this.data.totalTicksSinceLastCount=r-s,!0;for(e=this.data.totalTicksSinceLastCount+s,this.data.totalTicksSinceLastCount=r-s,a=this.data.frequencyCutoff,i=2;a<1;)i++,a*=10;return this.data.frequency=Number((o/(e/1e3)).toFixed(i)),this.onCountChange(o,e),this.onFrequencyChange(this.data.frequency),!0}},Xt.prototype.setFrequencyCutoff=function(t){this.checkOpen(),this.data.frequencyCutoff=t},Xt.prototype.resetCount=function(){this.checkOpen(),this.data.count=0,this.data.timeElapsed=0,this.data.frequency=1e300};var jt=function(){Ut.apply(this,arguments),this.name="Generic",this["class"]=b.GENERIC,this.onPacket=function(t,e){},this.onError=function(t,e){}};jt.prototype=Object.create(Ut.prototype),jt.prototype.constructor=jt,_.Generic=jt,jt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},jt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},jt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_PACKET:this.handlePacketEvent(t)}return!0},jt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SENDCHPACKET:return!0;case Ct.BP_SENDDEVPACKET:return!0;case Ct.BP_SENDPACKET:return!0}},jt.prototype.getINPacketLength=function(){if(this.checkOpen(),void 0===this.data.INPacketLength||this.data.INPacketLength===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.INPacketLength},jt.prototype.getOUTPacketLength=function(){if(this.checkOpen(),void 0===this.data.OUTPacketLength||this.data.OUTPacketLength===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.OUTPacketLength},jt.prototype.sendChannelPacket=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=new Ot(this.channel.conn);return i.set({name:"0",type:"d",value:t}),i.set({name:"1",type:"d",value:e}),i.set({name:"2",type:"c",value:n}),i.set({name:"3",type:"d",value:packetLen}),i.send(this.channel,Ct.BP_SENDCHPACKET)},jt.prototype.sendDevicePacket=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"d",value:t}),n.set({name:"1",type:"c",value:e}),n.set({name:"2",type:"d",value:packetLen}),n.send(this.channel,Ct.BP_SENDDEVPACKET)},jt.prototype.sendPacket=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"c",value:t}),e.set({name:"1",type:"d",value:packetLen}),e.send(this.channel,Ct.BP_SENDPACKET)},jt.prototype.handlePacketEvent=function(t){var e=t.get("0"),n=t.get("1");this.onPacket(e,n)};var zt=function(){Ut.apply(this,arguments),this.name="GPS",this["class"]=b.GPS,this.onPositionChange=function(t,e,n){},this.onHeadingChange=function(t,e){},this.onPositionFixStateChange=function(t){},this.onError=function(t,e){}};zt.prototype=Object.create(Ut.prototype),zt.prototype.constructor=zt,_.GPS=zt,zt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},zt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},zt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_HEADINGCHANGE:this.handleHeadingChangeEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t);break;case Ct.BP_POSITIONFIXSTATUSCHANGE:this.handlePositionFixStateChangeEvent(t)}return!0},zt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1}},zt.prototype.getAltitude=function(){if(this.checkOpen(),void 0===this.data.altitude||this.data.altitude===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.altitude},zt.prototype.getHeading=function(){if(this.checkOpen(),void 0===this.data.heading||this.data.heading===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.heading},zt.prototype.getLatitude=function(){if(this.checkOpen(),void 0===this.data.latitude||this.data.latitude===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.latitude},zt.prototype.getLongitude=function(){if(this.checkOpen(),void 0===this.data.longitude||this.data.longitude===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.longitude},zt.prototype.getPositionFixState=function(){if(this.checkOpen(),void 0===this.data.positionFixState||this.data.positionFixState===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.positionFixState},zt.prototype.getVelocity=function(){if(this.checkOpen(),void 0===this.data.velocity||this.data.velocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocity},zt.prototype.handleHeadingChangeEvent=function(t){this.data.heading=t.get("0"),this.data.velocity=t.get("1"),this.onHeadingChange(this.data.heading,this.data.velocity)},zt.prototype.handlePositionChangeEvent=function(t){this.data.latitude=t.get("0"),this.data.longitude=t.get("1"),this.data.altitude=t.get("2"),this.onPositionChange(this.data.latitude,this.data.longitude,this.data.altitude)},zt.prototype.handlePositionFixStateChangeEvent=function(t){this.data.positionFixState=!!t.get("0"),this.onPositionFixStateChange(this.data.positionFixState)},zt.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATA:this.data["GPGGA.altitude"]=t.entries["GPGGA.altitude"].v,this.data["GPGGA.latitude"]=t.entries["GPGGA.latitude"].v,this.data["GPGGA.longitude"]=t.entries["GPGGA.longitude"].v,this.data["GPVTG.speed"]=t.entries["GPVTG.speed"].v,this.data["GPVTG.trueHeading"]=t.entries["GPVTG.trueHeading"].v,this.data.altitude=t.entries["GPGGA.altitude"].v,this.data.latitude=t.entries["GPGGA.latitude"].v,this.data.longitude=t.entries["GPGGA.longitude"].v,this.data.velocity=t.entries["GPVTG.speed"].v,this.data.heading=t.entries["GPVTG.trueHeading"].v;break;case Ct.BP_TIME:var e=this.convertToLocal(t.entries["GPSTime.tm_hour"].v);this.data["GPSTime.tm_ms"]=t.entries["GPSTime.tm_ms"].v,this.data["GPSTime.tm_sec"]=t.entries["GPSTime.tm_sec"].v,this.data["GPSTime.tm_min"]=t.entries["GPSTime.tm_min"].v,this.data["GPSTime.tm_hour"]=e,"function"==typeof this.onTimeChange&&this.onTimeChange(e,this.data["GPSTime.tm_min"],this.data["GPSTime.tm_sec"],this.data["GPSTime.tm_ms"]);break;case Ct.BP_DATE:this.data["GPSDate.tm_mday"]=t.entries["GPSDate.tm_mday"].v,this.data["GPSDate.tm_mon"]=t.entries["GPSDate.tm_mon"].v,this.data["GPSDate.tm_year"]=t.entries["GPSDate.tm_year"].v,"function"==typeof this.onDateChange&&this.onDateChange(this.data["GPSDate.tm_year"],this.data["GPSDate.tm_mon"],this.data["GPSDate.tm_mday"]);break;default:return!1}return!0},zt.prototype.convertToLocal=function(t){var e=new Date,n=e.getTimezoneOffset()/60;return t-n};var Qt=function(){Ut.apply(this,arguments),this.name="Gyroscope",this["class"]=b.GYROSCOPE,this.onAngularRateUpdate=function(t,e){},this.onError=function(t,e){}};Qt.prototype=Object.create(Ut.prototype),Qt.prototype.constructor=Qt,_.Gyroscope=Qt,Qt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Qt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Qt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,3);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_ANGULARRATEUPDATE:this.handleAngularRateUpdateEvent(t)}return!0},Qt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETHEATINGENABLED:return this.data.heatingEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HeatingEnabled"),!0;case Ct.BP_SETSPATIALPRECISION:
return this.data.precision=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Precision"),!0;case Ct.BP_ZERO:return!0}},Qt.prototype.getAngularRate=function(){if(this.checkOpen(),void 0===this.data.angularRate||this.data.angularRate===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.angularRate},Qt.prototype.getMinAngularRate=function(){if(this.checkOpen(),void 0===this.data.minAngularRate||this.data.minAngularRate===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAngularRate},Qt.prototype.getMaxAngularRate=function(){if(this.checkOpen(),void 0===this.data.maxAngularRate||this.data.maxAngularRate===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAngularRate},Qt.prototype.getAxisCount=function(){if(this.checkOpen(),void 0===this.data.axisCount||this.data.axisCount===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.axisCount},Qt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Qt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Qt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Qt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Qt.prototype.getHeatingEnabled=function(){if(this.checkOpen(),void 0===this.data.heatingEnabled||this.data.heatingEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.heatingEnabled},Qt.prototype.setHeatingEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETHEATINGENABLED)},Qt.prototype.getPrecision=function(){if(this.checkOpen(),void 0===this.data.precision||this.data.precision===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.precision},Qt.prototype.setPrecision=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPATIALPRECISION)},Qt.prototype.getTimestamp=function(){if(this.checkOpen(),void 0===this.data.timestamp||this.data.timestamp===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.timestamp},Qt.prototype.zero=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_ZERO)},Qt.prototype.handleAngularRateUpdateEvent=function(t){this.data.angularRate=t.get("0"),this.data.timestamp=t.get("1"),this.onAngularRateUpdate(this.data.angularRate,this.data.timestamp)},Qt.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;default:return!1}};var Zt=function(){Ut.apply(this,arguments),this.name="Hub",this["class"]=b.HUB,this.onError=function(t,e){}};Zt.prototype=Object.create(Ut.prototype),Zt.prototype.constructor=Zt,_.Hub=Zt,Zt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Zt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Zt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t)}return!0},Zt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETCALIBRATIONVALUES:return!0;case Ct.BP_SETFIRMWAREUPGRADEFLAG:return!0;case Ct.BP_SETPORTMODE:return!0;case Ct.BP_SETPORTPOWER:return!0}},Zt.prototype.setADCCalibrationValues=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:t}),n.set({name:"1",type:"g",value:e}),n.send(this.channel,Ct.BP_SETCALIBRATIONVALUES)},Zt.prototype.setFirmwareUpgradeFlag=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"d",value:t}),n.set({name:"1",type:"u",value:e}),n.send(this.channel,Ct.BP_SETFIRMWAREUPGRADEFLAG)},Zt.prototype.setPortMode=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"d",value:t}),n.set({name:"1",type:"d",value:e}),n.send(this.channel,Ct.BP_SETPORTMODE)},Zt.prototype.setPortPower=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n=new Ot(this.channel.conn);return n.set({name:"0",type:"d",value:t}),n.set({name:"1",type:"d",value:e}),n.send(this.channel,Ct.BP_SETPORTPOWER)};var Jt=function(){Ut.apply(this,arguments),this.name="HumiditySensor",this["class"]=b.HUMIDITY_SENSOR,this.onHumidityChange=function(t){},this.onError=function(t,e){}};Jt.prototype=Object.create(Ut.prototype),Jt.prototype.constructor=Jt,_.HumiditySensor=Jt,Jt.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Jt.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Jt.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_HUMIDITYCHANGE:this.handleHumidityChangeEvent(t)}return!0},Jt.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.humidityChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HumidityChangeTrigger"),!0}},Jt.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Jt.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Jt.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Jt.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Jt.prototype.getHumidity=function(){if(this.checkOpen(),void 0===this.data.humidity||this.data.humidity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.humidity},Jt.prototype.getMinHumidity=function(){if(this.checkOpen(),void 0===this.data.minHumidity||this.data.minHumidity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minHumidity},Jt.prototype.getMaxHumidity=function(){if(this.checkOpen(),void 0===this.data.maxHumidity||this.data.maxHumidity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxHumidity},Jt.prototype.getHumidityChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.humidityChangeTrigger||this.data.humidityChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.humidityChangeTrigger},Jt.prototype.setHumidityChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Jt.prototype.getMinHumidityChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minHumidityChangeTrigger||this.data.minHumidityChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minHumidityChangeTrigger},Jt.prototype.getMaxHumidityChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxHumidityChangeTrigger||this.data.maxHumidityChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxHumidityChangeTrigger},Jt.prototype.handleHumidityChangeEvent=function(t){this.data.humidity=t.get("0"),this.onHumidityChange(this.data.humidity)};var $t=function(){Ut.apply(this,arguments),this.name="IR",this["class"]=b.IR,this.onCode=function(t,e,n){},this.onLearn=function(t,e){},this.onRawData=function(t,e){},this.onError=function(t,e){}};$t.prototype=Object.create(Ut.prototype),$t.prototype.constructor=$t,_.IR=$t,$t.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},$t.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},$t.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_CODE:this.handleCodeEvent(t);break;case Ct.BP_LEARN:this.handleLearnEvent(t);break;case Ct.BP_RAWDATA:this.handleRawDataEvent(t)}return!0},$t.RAW_DATA_LONG_SPACE=4294967295,$t.MAX_CODE_BIT_COUNT=128,$t.MAX_CODE_STRING_LENGTH=33,$t.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_TRANSMIT:return!0;case Ct.BP_TRANSMITRAW:return!0;case Ct.BP_TRANSMITREPEAT:return!0}},$t.prototype.transmitRepeat=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_TRANSMITREPEAT)},$t.prototype.handleRawDataEvent=function(t){var e=t.get("0"),n=t.get("1");this.onRawData(e,n)},$t.prototype.transmit=function(t,e){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var n={bitCount:0,encoding:0,length:0,gap:0,trail:0,minRepeat:0,dutyCycle:0,carrierFrequency:0,header:[0,0],one:[0,0],zero:[0,0],repeat:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],toggleMask:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(void 0!==e.bitCount&&(n.bitCount=e.bitCount),void 0!==e.encoding&&(n.encoding=e.encoding),void 0!==e.length&&(n.length=e.length),void 0!==e.gap&&(n.gap=e.gap),void 0!==e.trail&&(n.trail=e.trail),void 0!==e.minRepeat&&(n.minRepeat=e.minRepeat),void 0!==e.dutyCycle&&(n.dutyCycle=e.dutyCycle),void 0!==e.carrierFrequency&&(n.carrierFrequency=e.carrierFrequency),void 0!==e.header){if(!Array.isArray(e.header))throw"invalid value - header must be Array";if(2!=e.header.length)throw"invalid value - header must have length 2";n.header[0]=e.header[0],n.header[1]=e.header[1]}if(void 0!==e.one){if(!Array.isArray(e.one))throw"invalid value - one must be Array";if(2!=e.one.length)throw"invalid value - one must have length 2";n.one[0]=e.one[0],n.one[1]=e.one[1]}if(void 0!==e.zero){if(!Array.isArray(e.zero))throw"invalid value - zero must be Array";if(2!=e.zero.length)throw"invalid value - zero must have length 2";n.zero[0]=e.zero[0],n.zero[1]=e.zero[1]}if(void 0!==e.repeat){if(!Array.isArray(e.repeat))throw"invalid value - repeat must be Array";if(e.zero.length>26)throw"invalid value - repeat must have length <= 26";for(var i=0;i<e.repeat.length;i++)n.repeat[i]=e.repeat[i]}if(void 0!==e.toggleMask){var a=[];if("string"==typeof e.toggleMask)for(var i=0;i<e.toggleMask.length;i++)a.push(e.toggleMask.charCodeAt(i));else{if(!Array.isArray(e.toggleMask))throw"invalid value - toggleMask must be a string";a=e.toggleMask}if(a.length>33)throw"invalid value - toggleMask must have length <= 33";for(var i=0;i<e.toggleMask.length;i++)n.toggleMask[i]=a[i]}var r=new Ot(this.channel.conn);return r.set({name:"code",type:"s",value:t}),r.set({name:"CodeInfo.bitCount",type:"u",value:n.bitCount}),r.set({name:"CodeInfo.encoding",type:"d",value:n.encoding}),r.set({name:"CodeInfo.length",type:"d",value:n.length}),r.set({name:"CodeInfo.gap",type:"u",value:n.gap}),r.set({name:"CodeInfo.trail",type:"u",value:n.trail}),r.set({name:"CodeInfo.header",type:"U",value:n.header}),r.set({name:"CodeInfo.one",type:"U",value:n.one}),r.set({name:"CodeInfo.zero",type:"U",value:n.zero}),r.set({name:"CodeInfo.repeat",type:"U",value:n.repeat}),r.set({name:"CodeInfo.minRepeat",type:"u",value:n.minRepeat}),r.set({name:"CodeInfo.dutyCycle",type:"g",value:n.dutyCycle}),r.set({name:"CodeInfo.carrierFrequency",type:"u",value:n.carrierFrequency}),r.set({name:"CodeInfo.toggleMask",type:"R",value:n.toggleMask}),r.send(this.channel,Ct.BP_TRANSMIT)},$t.prototype.transmitRaw=function(t,e,n,i){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var a=new Ot(this.channel.conn);return a.set({name:"data",type:"U",value:t}),a.set({name:"carrierFrequency",type:"u",value:e}),a.set({name:"dutyCycle",type:"g",value:n}),a.set({name:"gap",type:"u",value:i}),a.send(this.channel,Ct.BP_TRANSMITRAW)},$t.prototype.handleCodeEvent=function(t){var e=t.get("0"),n=t.get("1"),i=t.get("2"),a={bitCount:n};this.data.lastCodeStr=e,this.data.lastCodeInfo=a,this.data.lastCodeKnown=!0,this.onCode(e,n,i)},$t.prototype.handleLearnEvent=function(t){var e=t.get("0"),n={bitCount:t.get("CodeInfo.bitCount"),encoding:t.get("CodeInfo.encoding"),length:t.get("CodeInfo.length"),gap:t.get("CodeInfo.gap"),trail:t.get("CodeInfo.trail"),header:t.get("CodeInfo.header"),one:t.get("CodeInfo.one"),zero:t.get("CodeInfo.zero"),repeat:t.get("CodeInfo.repeat"),minRepeat:t.get("CodeInfo.minRepeat"),dutyCycle:t.get("CodeInfo.dutyCycle"),carrierFrequency:t.get("CodeInfo.carrierFrequency"),toggleMask:t.get("CodeInfo.toggleMask")};this.data.lastLearnedCodeStr=e,this.data.lastLearnedCodeInfo=n,this.data.lastLearnedCodeKnown=!0,this.onLearn(e,n)},$t.prototype.getLastCode=function(){if(this.checkOpen(),"undefined"==typeof this.data.lastCodeKnown)throw new _t(V.UNKNOWN_VALUE);return{bitCount:this.data.lastCodeInfo.bitCount,code:this.data.lastCodeStr}},$t.prototype.getLastLearnedCode=function(){if(this.checkOpen(),"undefined"==typeof this.data.lastLearnedCodeKnown)throw new _t(V.UNKNOWN_VALUE);return{code:this.data.lastLearnedCodeStr,codeInfo:this.data.lastLearnedCodeInfo}},$t.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_REPEAT:this.onCode(this.data.lastCodeStr,this.data.lastCodeStr.bitCount,!0);break;default:return!1}return!0};var te=function(){Ut.apply(this,arguments),this.name="LCD",this["class"]=b.LCD,this.onError=function(t,e){}};te.prototype=Object.create(Ut.prototype),te.prototype.constructor=te,_.LCD=te,te.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},te.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},te.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,2);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t)}return!0},te.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETBACKLIGHT:return this.data.backlight=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Backlight"),!0;case Ct.BP_SETCHARACTERBITMAP:return!0;case Ct.BP_CLEAR:return!0;case Ct.BP_SETCONTRAST:return this.data.contrast=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Contrast"),!0;case Ct.BP_COPY:return!0;case Ct.BP_SETCURSORBLINK:return this.data.cursorBlink=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CursorBlink"),!0;case Ct.BP_SETCURSORON:return this.data.cursorOn=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CursorOn"),!0;case Ct.BP_DRAWLINE:return!0;case Ct.BP_DRAWPIXEL:return!0;case Ct.BP_DRAWRECT:return!0;case Ct.BP_FLUSH:return!0;case Ct.BP_SETFONTSIZE:return!0;case Ct.BP_SETFRAMEBUFFER:return this.data.frameBuffer=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("FrameBuffer"),!0;case Ct.BP_INITIALIZE:return!0;case Ct.BP_SAVEFRAMEBUFFER:return!0;case Ct.BP_SETSCREENSIZE:return this.data.screenSize=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("ScreenSize"),!0;case Ct.BP_SETSLEEP:return this.data.sleeping=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Sleeping"),!0;case Ct.BP_WRITEBITMAP:return!0;case Ct.BP_WRITETEXT:return!0}},te.prototype.getBacklight=function(){if(this.checkOpen(),void 0===this.data.backlight||this.data.backlight===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.backlight},te.prototype.setBacklight=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETBACKLIGHT)},te.prototype.getMinBacklight=function(){if(this.checkOpen(),void 0===this.data.minBacklight||this.data.minBacklight===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minBacklight},te.prototype.getMaxBacklight=function(){if(this.checkOpen(),void 0===this.data.maxBacklight||this.data.maxBacklight===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxBacklight},te.prototype.clear=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_CLEAR)},te.prototype.getContrast=function(){if(this.checkOpen(),void 0===this.data.contrast||this.data.contrast===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.contrast},te.prototype.setContrast=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCONTRAST)},te.prototype.getMinContrast=function(){if(this.checkOpen(),void 0===this.data.minContrast||this.data.minContrast===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minContrast},te.prototype.getMaxContrast=function(){if(this.checkOpen(),void 0===this.data.maxContrast||this.data.maxContrast===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxContrast},te.prototype.copy=function(t,e,n,i,a,r,o,s,h){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var c=new Ot(this.channel.conn);return c.set({name:"0",type:"d",value:t}),c.set({name:"1",type:"d",value:e}),c.set({name:"2",type:"d",value:n}),c.set({name:"3",type:"d",value:i}),c.set({name:"4",type:"d",value:a}),c.set({name:"5",type:"d",value:r}),c.set({name:"6",type:"d",value:o}),c.set({name:"7",type:"d",value:s}),c.set({name:"8",type:"d",value:h}),c.send(this.channel,Ct.BP_COPY)},te.prototype.getCursorBlink=function(){if(this.checkOpen(),void 0===this.data.cursorBlink||this.data.cursorBlink===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.cursorBlink},te.prototype.setCursorBlink=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETCURSORBLINK)},te.prototype.getCursorOn=function(){if(this.checkOpen(),void 0===this.data.cursorOn||this.data.cursorOn===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.cursorOn},te.prototype.setCursorOn=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETCURSORON)},te.prototype.drawLine=function(t,e,n,i){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var a=new Ot(this.channel.conn);return a.set({name:"0",type:"d",value:t}),a.set({name:"1",type:"d",value:e}),a.set({name:"2",type:"d",value:n}),a.set({name:"3",type:"d",value:i}),a.send(this.channel,Ct.BP_DRAWLINE)},te.prototype.drawPixel=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=new Ot(this.channel.conn);return i.set({name:"0",type:"d",value:t}),i.set({name:"1",type:"d",value:e}),i.set({name:"2",type:"d",value:n}),i.send(this.channel,Ct.BP_DRAWPIXEL)},te.prototype.drawRect=function(t,e,n,i,a,r){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var o=new Ot(this.channel.conn);return o.set({name:"0",type:"d",value:t}),o.set({name:"1",type:"d",value:e}),o.set({name:"2",type:"d",value:n}),o.set({name:"3",type:"d",value:i}),o.set({name:"4",type:"d",value:a}),o.set({name:"5",type:"d",value:r}),o.send(this.channel,Ct.BP_DRAWRECT)},te.prototype.flush=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FLUSH)},te.prototype.setFontSize=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=new Ot(this.channel.conn);return i.set({name:"0",type:"d",value:t}),i.set({name:"1",type:"d",value:e}),i.set({name:"2",type:"d",value:n}),i.send(this.channel,Ct.BP_SETFONTSIZE)},te.prototype.getFrameBuffer=function(){if(this.checkOpen(),void 0===this.data.frameBuffer||this.data.frameBuffer===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.frameBuffer},te.prototype.setFrameBuffer=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETFRAMEBUFFER)},te.prototype.getHeight=function(){if(this.checkOpen(),void 0===this.data.height||this.data.height===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.height},te.prototype.initialize=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_INITIALIZE)},te.prototype.saveFrameBuffer=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SAVEFRAMEBUFFER)},te.prototype.getScreenSize=function(){if(this.checkOpen(),void 0===this.data.screenSize||this.data.screenSize===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.screenSize},te.prototype.setScreenSize=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSCREENSIZE)},te.prototype.getSleeping=function(){if(this.checkOpen(),void 0===this.data.sleeping||this.data.sleeping===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.sleeping},te.prototype.setSleeping=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSLEEP)},te.prototype.getWidth=function(){if(this.checkOpen(),void 0===this.data.width||this.data.width===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.width},te.prototype.writeText=function(t,e,n,i){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var a=new Ot(this.channel.conn);return a.set({name:"0",type:"d",value:t}),a.set({name:"1",type:"d",value:e}),a.set({name:"2",type:"d",value:n}),a.set({name:"3",type:"s",value:i}),a.send(this.channel,Ct.BP_WRITETEXT)},te.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETFONTSIZE:var e=t.get("0"),n=t.get("1"),i=t.get("2");return this.data.fontWidth[parseInt(e)]=n,this.data.fontHeight[parseInt(e)]=i,this.onPropertyChange&&this.onPropertyChange("FontSize"),!0}},te.prototype.setCharacterBitmap=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=this.getFontSize(t),a=new Ot(this.channel.conn);return i.width<=0?Promise.reject(new _t(V.INVALIDARG,"invalid arg (getFontSize): "+t)):i.height<=0?Promise.reject(new _t(V.INVALIDARG,"invalid arg (getFontSize): "+t)):(a.set({name:"0",type:"d",value:t}),a.set({name:"1",type:"s",value:e}),a.set({name:"2",type:"R",value:n}),a.send(this.channel,Ct.BP_SETCHARACTERBITMAP))},te.prototype.getMaxCharacters=function(t){this.checkOpen();var e,n;switch(this.getDeviceID()){case M.PN_LCD1100:if(parseInt(t)<1||parseInt(t)>5)throw new _t(V.INVALIDARG,"invalid arg (getMaxCharacters): "+t);if(n=this.getFontSize(t),n.width<=0)throw new _t(V.INVALIDARG,"invalid arg (getFontSize): "+t);if(n.height<=0)throw new _t(V.INVALIDARG,"invalid arg (getFontSize): "+t);e=Math.min(255,this.data.width/n.width*(this.data.height/n.height));break;case M.PN_1202_1203:case M.PN_1204:case M.PN_1215__1218:case M.PN_1219__1222:e=255;break;default:throw new _t(V.UNEXPECTED)}return e},te.prototype.getFontSize=function(t){this.checkOpen();var e={width:0,height:0};switch(parseInt(t)){case st.DIMENSIONS_6X10:e.width=6,e.height=10;break;case st.DIMENSIONS_5X8:e.width=5,e.height=8;break;case st.DIMENSIONS_6X12:e.width=6,e.height=12;break;case st.USER1:case st.USER2:e.width=this.data.fontWidth[parseInt(t)],e.height=this.data.fontHeight[parseInt(t)];break;default:throw new _t(V.INVALIDARG,"invalid arg (getFontSize): "+t)}return e},te.prototype.setFontSize=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=new Ot(this.channel.conn);i.set({name:"0",type:"d",value:t}),i.set({name:"1",type:"d",value:e}),i.set({name:"2",type:"d",value:n});var a=this;return i.send(this.channel,Ct.BP_SETFONTSIZE).then(function(i){a.data.fontWidth[t]=e,a.data.fontHeight[t]=n})},te.prototype.writeBitmap=function(t,e,n,i,a){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var r=new Ot(this.channel.conn);return n<=0||i<=0?Promise.reject(new _t(V.INVALIDARG,"invalid arg (size cannot be <=0) "+font)):(r.set({name:"0",type:"d",value:t}),r.set({name:"1",type:"d",value:e}),r.set({name:"2",type:"d",value:n}),r.set({name:"3",type:"d",value:i}),r.set({name:"4",type:"R",value:a}),r.send(this.channel,Ct.BP_WRITEBITMAP))};var ee=function(){Ut.apply(this,arguments),this.name="LightSensor",this["class"]=b.LIGHT_SENSOR,this.onIlluminanceChange=function(t){},this.onError=function(t,e){}};ee.prototype=Object.create(Ut.prototype),ee.prototype.constructor=ee,_.LightSensor=ee,ee.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ee.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ee.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_ILLUMINANCECHANGE:this.handleIlluminanceChangeEvent(t)}return!0},ee.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.illuminanceChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("IlluminanceChangeTrigger"),!0}},ee.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},ee.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},ee.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},ee.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},ee.prototype.getIlluminance=function(){if(this.checkOpen(),void 0===this.data.illuminance||this.data.illuminance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.illuminance},ee.prototype.getMinIlluminance=function(){if(this.checkOpen(),void 0===this.data.minIlluminance||this.data.minIlluminance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minIlluminance},ee.prototype.getMaxIlluminance=function(){if(this.checkOpen(),void 0===this.data.maxIlluminance||this.data.maxIlluminance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxIlluminance},ee.prototype.getIlluminanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.illuminanceChangeTrigger||this.data.illuminanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.illuminanceChangeTrigger},ee.prototype.setIlluminanceChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},ee.prototype.getMinIlluminanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minIlluminanceChangeTrigger||this.data.minIlluminanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minIlluminanceChangeTrigger},ee.prototype.getMaxIlluminanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxIlluminanceChangeTrigger||this.data.maxIlluminanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxIlluminanceChangeTrigger},ee.prototype.handleIlluminanceChangeEvent=function(t){this.data.illuminance=t.get("0"),this.onIlluminanceChange(this.data.illuminance)};var ne=function(){Ut.apply(this,arguments),this.name="Magnetometer",this["class"]=b.MAGNETOMETER,this.onMagneticFieldChange=function(t,e){},this.onError=function(t,e){}};ne.prototype=Object.create(Ut.prototype),ne.prototype.constructor=ne,_.Magnetometer=ne,ne.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ne.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ne.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,2);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_FIELDSTRENGTHCHANGE:this.handleMagneticFieldChangeEvent(t)}return!0},ne.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETCORRECTIONPARAMETERS:return!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETHEATINGENABLED:return this.data.heatingEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HeatingEnabled"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.magneticFieldChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("MagneticFieldChangeTrigger"),!0;case Ct.BP_RESETCORRECTIONPARAMETERS:return!0;case Ct.BP_SAVECORRECTIONPARAMETERS:return!0}},ne.prototype.getAxisCount=function(){if(this.checkOpen(),void 0===this.data.axisCount||this.data.axisCount===w.INT32)throw new _t(V.UNKNOWN_VALUE);return this.data.axisCount},ne.prototype.setCorrectionParameters=function(t,e,n,i,a,r,o,s,h,c,p,u,d){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var l=new Ot(this.channel.conn);return l.set({name:"0",type:"g",value:t}),l.set({name:"1",type:"g",value:e}),l.set({name:"2",type:"g",value:n}),l.set({name:"3",type:"g",value:i}),l.set({name:"4",type:"g",value:a}),l.set({name:"5",type:"g",value:r}),l.set({name:"6",type:"g",value:o}),l.set({name:"7",type:"g",value:s}),l.set({name:"8",type:"g",value:h}),l.set({name:"9",type:"g",value:c}),l.set({name:"10",type:"g",value:p}),l.set({name:"11",type:"g",value:u}),l.set({name:"12",type:"g",value:d}),l.send(this.channel,Ct.BP_SETCORRECTIONPARAMETERS)},ne.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},ne.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);
var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},ne.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},ne.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},ne.prototype.getHeatingEnabled=function(){if(this.checkOpen(),void 0===this.data.heatingEnabled||this.data.heatingEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.heatingEnabled},ne.prototype.setHeatingEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETHEATINGENABLED)},ne.prototype.getMagneticField=function(){if(this.checkOpen(),void 0===this.data.magneticField||this.data.magneticField===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.magneticField},ne.prototype.getMinMagneticField=function(){if(this.checkOpen(),void 0===this.data.minMagneticField||this.data.minMagneticField===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minMagneticField},ne.prototype.getMaxMagneticField=function(){if(this.checkOpen(),void 0===this.data.maxMagneticField||this.data.maxMagneticField===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxMagneticField},ne.prototype.getMagneticFieldChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.magneticFieldChangeTrigger||this.data.magneticFieldChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.magneticFieldChangeTrigger},ne.prototype.setMagneticFieldChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},ne.prototype.getMinMagneticFieldChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minMagneticFieldChangeTrigger||this.data.minMagneticFieldChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minMagneticFieldChangeTrigger},ne.prototype.getMaxMagneticFieldChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxMagneticFieldChangeTrigger||this.data.maxMagneticFieldChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxMagneticFieldChangeTrigger},ne.prototype.resetCorrectionParameters=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_RESETCORRECTIONPARAMETERS)},ne.prototype.saveCorrectionParameters=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_SAVECORRECTIONPARAMETERS)},ne.prototype.getTimestamp=function(){if(this.checkOpen(),void 0===this.data.timestamp||this.data.timestamp===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.timestamp},ne.prototype.handleMagneticFieldChangeEvent=function(t){this.data.magneticField=t.get("0"),this.data.timestamp=t.get("1"),this.onMagneticFieldChange(this.data.magneticField,this.data.timestamp)},ne.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;default:return!1}};var ie=function(){Ut.apply(this,arguments),this.name="MotorPositionController",this["class"]=b.MOTOR_POSITION_CONTROLLER,this.onPositionChange=function(t){},this.onDutyCycleUpdate=function(t){},this.onError=function(t,e){}};ie.prototype=Object.create(Ut.prototype),ie.prototype.constructor=ie,_.MotorPositionController=ie,ie.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ie.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ie.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_DUTYCYCLECHANGE:this.handleDutyCycleUpdateEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t)}return!0},ie.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETACCELERATION:return this.data.acceleration=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Acceleration"),!0;case Ct.BP_SETCURRENTLIMIT:return this.data.currentLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentLimit"),!0;case Ct.BP_SETCURRENTREGULATORGAIN:return this.data.currentRegulatorGain=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentRegulatorGain"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETDEADBAND:return this.data.deadBand=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DeadBand"),!0;case Ct.BP_SETENGAGED:return this.data.engaged=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Engaged"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETFANMODE:return this.data.fanMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("FanMode"),!0;case Ct.BP_SETIOMODE:return this.data.IOMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("IOMode"),!0;case Ct.BP_SETKD:return this.data.kd=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Kd"),!0;case Ct.BP_SETKI:return this.data.ki=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Ki"),!0;case Ct.BP_SETKP:return this.data.kp=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Kp"),!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETSTALLVELOCITY:return this.data.stallVelocity=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("StallVelocity"),!0;case Ct.BP_SETTARGETPOSITION:return this.data.targetPosition=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetPosition"),!0;case Ct.BP_SETDUTYCYCLE:return this.data.velocityLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VelocityLimit"),!0}},ie.prototype.getCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.currentLimit||this.data.currentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentLimit},ie.prototype.setCurrentLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCURRENTLIMIT)},ie.prototype.getMinCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.minCurrentLimit||this.data.minCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentLimit},ie.prototype.getMaxCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.maxCurrentLimit||this.data.maxCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentLimit},ie.prototype.getCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.currentRegulatorGain||this.data.currentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentRegulatorGain},ie.prototype.setCurrentRegulatorGain=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCURRENTREGULATORGAIN)},ie.prototype.getMinCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.minCurrentRegulatorGain||this.data.minCurrentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentRegulatorGain},ie.prototype.getMaxCurrentRegulatorGain=function(){if(this.checkOpen(),void 0===this.data.maxCurrentRegulatorGain||this.data.maxCurrentRegulatorGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentRegulatorGain},ie.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},ie.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},ie.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},ie.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},ie.prototype.getDutyCycle=function(){if(this.checkOpen(),void 0===this.data.dutyCycle||this.data.dutyCycle===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.dutyCycle},ie.prototype.getEngaged=function(){if(this.checkOpen(),void 0===this.data.engaged||this.data.engaged===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.engaged},ie.prototype.setEngaged=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENGAGED)},ie.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},ie.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},ie.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},ie.prototype.getFanMode=function(){if(this.checkOpen(),void 0===this.data.fanMode||this.data.fanMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.fanMode},ie.prototype.setFanMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETFANMODE)},ie.prototype.getIOMode=function(){if(this.checkOpen(),void 0===this.data.IOMode||this.data.IOMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.IOMode},ie.prototype.setIOMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETIOMODE)},ie.prototype.getKd=function(){if(this.checkOpen(),void 0===this.data.kd||this.data.kd===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.kd},ie.prototype.setKd=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETKD)},ie.prototype.getKi=function(){if(this.checkOpen(),void 0===this.data.ki||this.data.ki===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.ki},ie.prototype.setKi=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETKI)},ie.prototype.getKp=function(){if(this.checkOpen(),void 0===this.data.kp||this.data.kp===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.kp},ie.prototype.setKp=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETKP)},ie.prototype.getRescaleFactor=function(){if(this.checkOpen(),void 0===this.data.rescaleFactor||this.data.rescaleFactor===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.rescaleFactor},ie.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},ie.prototype.handleDutyCycleUpdateEvent=function(t){this.data.dutyCycle=t.get("0"),this.onDutyCycleUpdate(this.data.dutyCycle)},ie.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.acceleration*this.data.rescaleFactor},ie.prototype.setAcceleration=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:e}),n.send(this.channel,Ct.BP_SETACCELERATION)},ie.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAcceleration*this.data.rescaleFactor},ie.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAcceleration*this.data.rescaleFactor},ie.prototype.addPositionOffset=function(t){this.checkOpen(),this.data.positionOffset+=t/this.data.rescaleFactor},ie.prototype.getDeadBand=function(){if(this.checkOpen(),void 0===this.data.deadBand||this.data.deadBand===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.deadBand*this.data.rescaleFactor},ie.prototype.setDeadBand=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"u",value:e}),n.send(this.channel,Ct.BP_SETDEADBAND)},ie.prototype.getPosition=function(){if(this.checkOpen(),void 0===this.data.position||this.data.position===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.position+this.data.positionOffset)*this.data.rescaleFactor},ie.prototype.getMinPosition=function(){if(this.checkOpen(),void 0===this.data.minPosition||this.data.minPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.minPosition+this.data.positionOffset)*this.data.rescaleFactor},ie.prototype.getMaxPosition=function(){if(this.checkOpen(),void 0===this.data.maxPosition||this.data.maxPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.maxPosition+this.data.positionOffset)*this.data.rescaleFactor},ie.prototype.setRescaleFactor=function(t){this.checkOpen(),this.data.rescaleFactor=t},ie.prototype.getTargetPosition=function(){if(this.checkOpen(),void 0===this.data.targetPosition||this.data.targetPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.targetPosition+this.data.positionOffset)*this.data.rescaleFactor},ie.prototype.setTargetPosition=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor-this.data.positionOffset,n=new Ot(this.channel.conn);return n.set({name:"0",type:"l",value:e}),n.send(this.channel,Ct.BP_SETTARGETPOSITION)},ie.prototype.getVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.velocityLimit||this.data.velocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocityLimit*this.data.rescaleFactor},ie.prototype.getStallVelocity=function(){if(this.checkOpen(),void 0===this.data.stallVelocity||this.data.stallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.stallVelocity*this.data.rescaleFactor},ie.prototype.setStallVelocity=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:e}),n.send(this.channel,Ct.BP_SETSTALLVELOCITY)},ie.prototype.setVelocityLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:e}),n.send(this.channel,Ct.BP_SETDUTYCYCLE)},ie.prototype.getMinStallVelocity=function(){if(this.checkOpen(),void 0===this.data.minStallVelocity||this.data.minStallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minStallVelocity*this.data.rescaleFactor},ie.prototype.getMaxStallVelocity=function(){if(this.checkOpen(),void 0===this.data.maxStallVelocity||this.data.maxStallVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxStallVelocity*this.data.rescaleFactor},ie.prototype.getMinVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.minVelocityLimit||this.data.minVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVelocityLimit*this.data.rescaleFactor},ie.prototype.getMaxVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.maxVelocityLimit||this.data.maxVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVelocityLimit*this.data.rescaleFactor},ie.prototype.handlePositionChangeEvent=function(t){this.data.position=t.get("0"),this.onPositionChange((this.data.position+this.data.positionOffset)*this.data.rescaleFactor)};var ae=function(){Ut.apply(this,arguments),this.name="PHSensor",this["class"]=b.PH_SENSOR,this.onPHChange=function(t){},this.onError=function(t,e){}};ae.prototype=Object.create(Ut.prototype),ae.prototype.constructor=ae,_.PHSensor=ae,ae.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ae.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ae.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_PHCHANGE:this.handlePHChangeEvent(t)}return!0},ae.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETCORRECTIONTEMPERATURE:return this.data.correctionTemperature=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CorrectionTemperature"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.PHChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PHChangeTrigger"),!0}},ae.prototype.getCorrectionTemperature=function(){if(this.checkOpen(),void 0===this.data.correctionTemperature||this.data.correctionTemperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.correctionTemperature},ae.prototype.setCorrectionTemperature=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCORRECTIONTEMPERATURE)},ae.prototype.getMinCorrectionTemperature=function(){if(this.checkOpen(),void 0===this.data.minCorrectionTemperature||this.data.minCorrectionTemperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCorrectionTemperature},ae.prototype.getMaxCorrectionTemperature=function(){if(this.checkOpen(),void 0===this.data.maxCorrectionTemperature||this.data.maxCorrectionTemperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCorrectionTemperature},ae.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},ae.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},ae.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},ae.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},ae.prototype.getPH=function(){if(this.checkOpen(),void 0===this.data.PH||this.data.PH===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.PH},ae.prototype.getMinPH=function(){if(this.checkOpen(),void 0===this.data.minPH||this.data.minPH===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPH},ae.prototype.getMaxPH=function(){if(this.checkOpen(),void 0===this.data.maxPH||this.data.maxPH===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPH},ae.prototype.getPHChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.PHChangeTrigger||this.data.PHChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.PHChangeTrigger},ae.prototype.setPHChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},ae.prototype.getMinPHChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minPHChangeTrigger||this.data.minPHChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPHChangeTrigger},ae.prototype.getMaxPHChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxPHChangeTrigger||this.data.maxPHChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPHChangeTrigger},ae.prototype.handlePHChangeEvent=function(t){this.data.PH=t.get("0"),this.onPHChange(this.data.PH)};var re=function(){Ut.apply(this,arguments),this.name="PowerGuard",this["class"]=b.POWER_GUARD,this.onError=function(t,e){}};re.prototype=Object.create(Ut.prototype),re.prototype.constructor=re,_.PowerGuard=re,re.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},re.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},re.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t)}return!0},re.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETFANMODE:return this.data.fanMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("FanMode"),!0;case Ct.BP_SETOVERVOLTAGE:return this.data.overVoltage=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("OverVoltage"),!0;case Ct.BP_SETENABLED:return this.data.powerEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PowerEnabled"),!0;case Ct.BP_FAILSAFERESET:return!0}},re.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},re.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},re.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},re.prototype.getFanMode=function(){if(this.checkOpen(),void 0===this.data.fanMode||this.data.fanMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.fanMode},re.prototype.setFanMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETFANMODE)},re.prototype.getOverVoltage=function(){if(this.checkOpen(),void 0===this.data.overVoltage||this.data.overVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.overVoltage},re.prototype.setOverVoltage=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETOVERVOLTAGE)},re.prototype.getMinOverVoltage=function(){if(this.checkOpen(),void 0===this.data.minOverVoltage||this.data.minOverVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minOverVoltage},re.prototype.getMaxOverVoltage=function(){if(this.checkOpen(),void 0===this.data.maxOverVoltage||this.data.maxOverVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxOverVoltage},re.prototype.getPowerEnabled=function(){if(this.checkOpen(),void 0===this.data.powerEnabled||this.data.powerEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.powerEnabled},re.prototype.setPowerEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENABLED)},re.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)};var oe=function(){Ut.apply(this,arguments),this.name="PressureSensor",this["class"]=b.PRESSURE_SENSOR,this.onPressureChange=function(t){},this.onError=function(t,e){}};oe.prototype=Object.create(Ut.prototype),oe.prototype.constructor=oe,_.PressureSensor=oe,oe.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},oe.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},oe.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_PRESSURECHANGE:this.handlePressureChangeEvent(t)}return!0},oe.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.pressureChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PressureChangeTrigger"),!0}},oe.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},oe.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},oe.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},oe.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},oe.prototype.getPressure=function(){if(this.checkOpen(),void 0===this.data.pressure||this.data.pressure===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.pressure},oe.prototype.getMinPressure=function(){if(this.checkOpen(),void 0===this.data.minPressure||this.data.minPressure===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPressure},oe.prototype.getMaxPressure=function(){if(this.checkOpen(),void 0===this.data.maxPressure||this.data.maxPressure===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPressure},oe.prototype.getPressureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.pressureChangeTrigger||this.data.pressureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.pressureChangeTrigger},oe.prototype.setPressureChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},oe.prototype.getMinPressureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minPressureChangeTrigger||this.data.minPressureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPressureChangeTrigger},oe.prototype.getMaxPressureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxPressureChangeTrigger||this.data.maxPressureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPressureChangeTrigger},oe.prototype.handlePressureChangeEvent=function(t){this.data.pressure=t.get("0"),this.onPressureChange(this.data.pressure)};var se=function(){Ut.apply(this,arguments),this.name="RCServo",this["class"]=b.RC_SERVO,this.onPositionChange=function(t){},this.onVelocityChange=function(t){},this.onTargetPositionReached=function(t){},this.onError=function(t,e){}};se.prototype=Object.create(Ut.prototype),se.prototype.constructor=se,_.RCServo=se,se.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},se.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},se.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,4);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t);break;case Ct.BP_TARGETPOSITIONREACHED:this.handleTargetPositionReachedEvent(t);break;case Ct.BP_VELOCITYCHANGE:this.handleVelocityChangeEvent(t)}return!0},se.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETACCELERATION:return this.data.acceleration=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Acceleration"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETENGAGED:return this.data.engaged=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Engaged"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETMINPULSEWIDTH:return this.data.minPulseWidth=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("MinPulseWidth"),!0;case Ct.BP_SETMAXPULSEWIDTH:return this.data.maxPulseWidth=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("MaxPulseWidth"),!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETSPEEDRAMPINGSTATE:return this.data.speedRampingState=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SpeedRampingState"),!0;case Ct.BP_SETTARGETPOSITION:return this.data.targetPosition=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetPosition"),!0;case Ct.BP_SETDUTYCYCLE:return this.data.torque=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Torque"),!0;case Ct.BP_SETVELOCITYLIMIT:return this.data.velocityLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VelocityLimit"),!0;case Ct.BP_SETVOLTAGE:return this.data.voltage=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Voltage"),!0}},se.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},se.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},se.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},se.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);
return this.data.maxDataInterval},se.prototype.getEngaged=function(){if(this.checkOpen(),void 0===this.data.engaged||this.data.engaged===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.engaged},se.prototype.setEngaged=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENGAGED)},se.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},se.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},se.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},se.prototype.getIsMoving=function(){if(this.checkOpen(),void 0===this.data.isMoving||this.data.isMoving===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.isMoving},se.prototype.getMinPosition=function(){if(this.checkOpen(),void 0===this.data.minPosition||this.data.minPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPosition},se.prototype.getMaxPosition=function(){if(this.checkOpen(),void 0===this.data.maxPosition||this.data.maxPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPosition},se.prototype.setMinPulseWidth=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETMINPULSEWIDTH)},se.prototype.getMinPulseWidth=function(){if(this.checkOpen(),void 0===this.data.minPulseWidth||this.data.minPulseWidth===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPulseWidth},se.prototype.setMaxPulseWidth=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETMAXPULSEWIDTH)},se.prototype.getMaxPulseWidth=function(){if(this.checkOpen(),void 0===this.data.maxPulseWidth||this.data.maxPulseWidth===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPulseWidth},se.prototype.getMinPulseWidthLimit=function(){if(this.checkOpen(),void 0===this.data.minPulseWidthLimit||this.data.minPulseWidthLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minPulseWidthLimit},se.prototype.getMaxPulseWidthLimit=function(){if(this.checkOpen(),void 0===this.data.maxPulseWidthLimit||this.data.maxPulseWidthLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxPulseWidthLimit},se.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},se.prototype.getSpeedRampingState=function(){if(this.checkOpen(),void 0===this.data.speedRampingState||this.data.speedRampingState===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.speedRampingState},se.prototype.setSpeedRampingState=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPEEDRAMPINGSTATE)},se.prototype.getTorque=function(){if(this.checkOpen(),void 0===this.data.torque||this.data.torque===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.torque},se.prototype.setTorque=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETDUTYCYCLE)},se.prototype.getMinTorque=function(){if(this.checkOpen(),void 0===this.data.minTorque||this.data.minTorque===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minTorque},se.prototype.getMaxTorque=function(){if(this.checkOpen(),void 0===this.data.maxTorque||this.data.maxTorque===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxTorque},se.prototype.getVoltage=function(){if(this.checkOpen(),void 0===this.data.voltage||this.data.voltage===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.voltage},se.prototype.setVoltage=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETVOLTAGE)},se.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETTARGETPOSITION:return this.getEngaged()===!0&&0!==this.getVelocityLimit()&&this.getPosition()!==this.getTargetPosition()&&(this.data.isMoving=!0),!1}},se.prototype.positionUser=function(t){return this.data.minPosition+(t-this.data.minPulseWidth)/(this.data.maxPulseWidth-this.data.minPulseWidth)*this.data.maxPosition-this.data.minPosition},se.prototype.positionUS=function(t){return this.data.maxPosition>this.data.minPosition?this.data.minPulseWidth+(this.data.maxPulseWidth-this.data.minPulseWidth)*(t-this.data.minPosition)/(this.data.maxPosition-this.data.minPosition):this.data.maxPulseWidth+(this.data.maxPulseWidth-this.data.minPulseWidth)*(t-this.data.maxPosition)/(this.data.maxPosition-this.data.minPosition)},se.prototype.velocityUser=function(t){return Math.abs(this.data.maxPosition-this.data.minPosition)*t/(this.data.maxPulseWidth-this.data.minPulseWidth)},se.prototype.velocityUS=function(t){return(this.data.maxPulseWidth-this.data.minPulseWidth)*t/Math.abs(this.data.maxPosition-this.data.minPosition)},se.prototype.accelUser=function(t){return Math.abs(this.data.maxPosition-this.data.minPosition)*t/(this.data.maxPulseWidth-this.data.minPulseWidth)},se.prototype.accelUS=function(t){return(this.data.maxPulseWidth-this.data.minPulseWidth)*t/Math.abs(this.data.maxPosition-this.data.minPosition)},se.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.accelUser(this.data.acceleration)},se.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.accelUser(this.data.minAcceleration)},se.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.accelUser(this.data.maxAcceleration)},se.prototype.getPosition=function(){if(this.checkOpen(),void 0===this.data.position||this.data.position===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.positionUser(this.data.position)},se.prototype.setMaxPosition=function(t){this.checkOpen(),this.data.maxPosition=t},se.prototype.setMinPosition=function(t){this.checkOpen(),this.data.minPosition=t},se.prototype.getTargetPosition=function(){if(this.checkOpen(),void 0===this.data.targetPosition||this.data.targetPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.positionUser(this.data.targetPosition)},se.prototype.getVelocity=function(){if(this.checkOpen(),void 0===this.data.velocity||this.data.velocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.velocity)},se.prototype.getMinVelocity=function(){if(this.checkOpen(),void 0===this.data.minVelocity||this.data.minVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.minVelocity)},se.prototype.getMaxVelocity=function(){if(this.checkOpen(),void 0===this.data.maxVelocity||this.data.maxVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.maxVelocity)},se.prototype.getVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.velocityLimit||this.data.velocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.velocityLimit)},se.prototype.getMinVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.minVelocityLimit||this.data.minVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.minVelocityLimit)},se.prototype.getMaxVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.maxVelocityLimit||this.data.maxVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.velocityUser(this.data.maxVelocityLimit)},se.prototype.setAcceleration=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);t=this.accelUS(t);var e=new Ot(this.channel.conn);e.set({name:"0",type:"g",value:t});return e.send(this.channel,Ct.BP_SETACCELERATION)},se.prototype.setTargetPosition=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);t=this.positionUS(t);var e=new Ot(this.channel.conn);e.set({name:"0",type:"g",value:t});return e.send(this.channel,Ct.BP_SETTARGETPOSITION)},se.prototype.setVelocityLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);t=this.velocityUS(t);var e=new Ot(this.channel.conn);e.set({name:"0",type:"g",value:t});return e.send(this.channel,Ct.BP_SETVELOCITYLIMIT)},se.prototype.handlePositionChangeEvent=function(t){this.data.position=t.get("0"),this.onPositionChange(this.positionUser(this.data.position))},se.prototype.handleTargetPositionReachedEvent=function(t){this.data.position=t.get("0"),this.data.isMoving=!1,this.onTargetPositionReached(this.positionUser(this.data.position))},se.prototype.handleVelocityChangeEvent=function(t){this.data.velocity=t.get("0"),this.onVelocityChange(this.velocityUser(this.data.velocity))};var he=function(){Ut.apply(this,arguments),this.name="ResistanceInput",this["class"]=b.RESISTANCE_INPUT,this.onResistanceChange=function(t){},this.onError=function(t,e){}};he.prototype=Object.create(Ut.prototype),he.prototype.constructor=he,_.ResistanceInput=he,he.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},he.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},he.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_RESISTANCECHANGE:this.handleResistanceChangeEvent(t)}return!0},he.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.resistanceChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("ResistanceChangeTrigger"),!0;case Ct.BP_SETRTDWIRESETUP:return this.data.RTDWireSetup=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("RTDWireSetup"),!0}},he.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},he.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},he.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},he.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},he.prototype.getResistance=function(){if(this.checkOpen(),void 0===this.data.resistance||this.data.resistance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.resistance},he.prototype.getMinResistance=function(){if(this.checkOpen(),void 0===this.data.minResistance||this.data.minResistance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minResistance},he.prototype.getMaxResistance=function(){if(this.checkOpen(),void 0===this.data.maxResistance||this.data.maxResistance===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxResistance},he.prototype.getResistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.resistanceChangeTrigger||this.data.resistanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.resistanceChangeTrigger},he.prototype.setResistanceChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},he.prototype.getMinResistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minResistanceChangeTrigger||this.data.minResistanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minResistanceChangeTrigger},he.prototype.getMaxResistanceChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxResistanceChangeTrigger||this.data.maxResistanceChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxResistanceChangeTrigger},he.prototype.getRTDWireSetup=function(){if(this.checkOpen(),void 0===this.data.RTDWireSetup||this.data.RTDWireSetup===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.RTDWireSetup},he.prototype.setRTDWireSetup=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETRTDWIRESETUP)},he.prototype.handleResistanceChangeEvent=function(t){this.data.resistance=t.get("0"),this.onResistanceChange(this.data.resistance)};var ce=function(){Ut.apply(this,arguments),this.name="RFID",this["class"]=b.RFID,this.onTag=function(t,e){},this.onTagLost=function(t,e){},this.onError=function(t,e){}};ce.prototype=Object.create(Ut.prototype),ce.prototype.constructor=ce,_.RFID=ce,ce.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ce.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ce.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_TAG:this.handleTagEvent(t);break;case Ct.BP_TAGLOST:this.handleTagLostEvent(t)}return!0},ce.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETANTENNAON:return this.data.antennaEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("AntennaEnabled"),!0;case Ct.BP_WRITE:return!0}},ce.prototype.getAntennaEnabled=function(){if(this.checkOpen(),void 0===this.data.antennaEnabled||this.data.antennaEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.antennaEnabled},ce.prototype.setAntennaEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETANTENNAON)},ce.prototype.getTagPresent=function(){if(this.checkOpen(),void 0===this.data.tagPresent||this.data.tagPresent===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.tagPresent},ce.prototype.write=function(t,e,n){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var i=new Ot(this.channel.conn);return i.set({name:"0",type:"s",value:t}),i.set({name:"1",type:"d",value:e}),i.set({name:"2",type:"d",value:n}),i.send(this.channel,Ct.BP_WRITE)},ce.prototype.handleTagEvent=function(t){var e=t.get("0"),n=t.get("1");this.onTag(e,n)},ce.prototype.handleTagLostEvent=function(t){var e=t.get("0"),n=t.get("1");this.onTagLost(e,n)},ce.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_TAG:this.data.tagPresent=!0,this.handleTagEvent(t),this.data.lastTagString=t.get("0"),this.data.lastTagProtocol=t.get("1");break;case Ct.BP_TAGLOST:this.data.tagPresent=!1,this.handleTagLostEvent(t);break;default:return!1}return!0},ce.prototype.getLastTag=function(){if(this.checkOpen(),void 0===this.data.lastTagProtocol)throw new _t(V.UNKNOWN_VALUE);return{tagString:this.data.lastTagString,protocol:this.data.lastTagProtocol}};var pe=function(){Ut.apply(this,arguments),this.name="SoundSensor",this["class"]=b.SOUND_SENSOR,this.onSPLChange=function(t,e,n,i){},this.onError=function(t,e){}};pe.prototype=Object.create(Ut.prototype),pe.prototype.constructor=pe,_.SoundSensor=pe,pe.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},pe.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},pe.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_DBCHANGE:this.handleSPLChangeEvent(t)}return!0},pe.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.SPLChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SPLChangeTrigger"),!0;case Ct.BP_SETSPLRANGE:return this.data.SPLRange=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SPLRange"),!0}},pe.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},pe.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},pe.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},pe.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},pe.prototype.getdB=function(){if(this.checkOpen(),void 0===this.data.dB||this.data.dB===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.dB},pe.prototype.getMaxdB=function(){if(this.checkOpen(),void 0===this.data.maxdB||this.data.maxdB===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxdB},pe.prototype.getdBA=function(){if(this.checkOpen(),void 0===this.data.dBA||this.data.dBA===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.dBA},pe.prototype.getdBC=function(){if(this.checkOpen(),void 0===this.data.dBC||this.data.dBC===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.dBC},pe.prototype.getNoiseFloor=function(){if(this.checkOpen(),void 0===this.data.noiseFloor||this.data.noiseFloor===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.noiseFloor},pe.prototype.getOctaves=function(){if(this.checkOpen(),void 0===this.data.octaves||this.data.octaves===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.octaves},pe.prototype.getSPLChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.SPLChangeTrigger||this.data.SPLChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.SPLChangeTrigger},pe.prototype.setSPLChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},pe.prototype.getMinSPLChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minSPLChangeTrigger||this.data.minSPLChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minSPLChangeTrigger},pe.prototype.getMaxSPLChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxSPLChangeTrigger||this.data.maxSPLChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxSPLChangeTrigger},pe.prototype.getSPLRange=function(){if(this.checkOpen(),void 0===this.data.SPLRange||this.data.SPLRange===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.SPLRange},pe.prototype.setSPLRange=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPLRANGE)},pe.prototype.handleSPLChangeEvent=function(t){this.data.dB=t.get("0"),this.data.dBA=t.get("1"),this.data.dBC=t.get("2"),this.data.octaves=t.get("3"),this.onSPLChange(this.data.dB,this.data.dBA,this.data.dBC,this.data.octaves)};var ue=function(){Ut.apply(this,arguments),this.name="Spatial",this["class"]=b.SPATIAL,this.onSpatialData=function(t,e,n,i){},this.onAlgorithmData=function(t,e){},this.onError=function(t,e){}};ue.prototype=Object.create(Ut.prototype),ue.prototype.constructor=ue,_.Spatial=ue,ue.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ue.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ue.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,4);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_SPATIALALGDATA:this.handleAlgorithmDataEvent(t);break;case Ct.BP_SPATIALDATA:this.handleSpatialDataEvent(t)}return!0},ue.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETAHRSPARAMETERS:return!0;case Ct.BP_SETSPATIALALGORITHM:return this.data.algorithm=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Algorithm"),!0;case Ct.BP_SETSPATIALALGORITHMMAGGAIN:return this.data.algorithmMagnetometerGain=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("AlgorithmMagnetometerGain"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETHEATINGENABLED:return this.data.heatingEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HeatingEnabled"),!0;case Ct.BP_SETCORRECTIONPARAMETERS:return!0;case Ct.BP_SETSPATIALPRECISION:return this.data.precision=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Precision"),!0;case Ct.BP_RESETCORRECTIONPARAMETERS:return!0;case Ct.BP_SAVECORRECTIONPARAMETERS:return!0;case Ct.BP_ZEROSPATIALALGORITHM:return!0;case Ct.BP_ZERO:return!0}},ue.prototype.setAHRSParameters=function(t,e,n,i,a,r){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var o=new Ot(this.channel.conn);return o.set({name:"0",type:"g",value:t}),o.set({name:"1",type:"g",value:e}),o.set({name:"2",type:"g",value:n}),o.set({name:"3",type:"g",value:i}),o.set({name:"4",type:"g",value:a}),o.set({name:"5",type:"g",value:r}),o.send(this.channel,Ct.BP_SETAHRSPARAMETERS)},ue.prototype.getAlgorithm=function(){if(this.checkOpen(),void 0===this.data.algorithm||this.data.algorithm===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.algorithm},ue.prototype.setAlgorithm=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPATIALALGORITHM)},ue.prototype.getAlgorithmMagnetometerGain=function(){if(this.checkOpen(),void 0===this.data.algorithmMagnetometerGain||this.data.algorithmMagnetometerGain===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.algorithmMagnetometerGain},ue.prototype.setAlgorithmMagnetometerGain=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETSPATIALALGORITHMMAGGAIN)},ue.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},ue.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},ue.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},ue.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},ue.prototype.getHeatingEnabled=function(){if(this.checkOpen(),void 0===this.data.heatingEnabled||this.data.heatingEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.heatingEnabled},ue.prototype.setHeatingEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETHEATINGENABLED)},ue.prototype.setMagnetometerCorrectionParameters=function(t,e,n,i,a,r,o,s,h,c,p,u,d){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var l=new Ot(this.channel.conn);return l.set({name:"0",type:"g",value:t}),l.set({name:"1",type:"g",value:e}),l.set({name:"2",type:"g",value:n}),l.set({name:"3",type:"g",value:i}),l.set({name:"4",type:"g",value:a}),l.set({name:"5",type:"g",value:r}),l.set({name:"6",type:"g",value:o}),l.set({name:"7",type:"g",value:s}),l.set({name:"8",type:"g",value:h}),l.set({name:"9",type:"g",value:c}),l.set({name:"10",type:"g",value:p}),l.set({name:"11",type:"g",value:u}),l.set({name:"12",type:"g",value:d}),l.send(this.channel,Ct.BP_SETCORRECTIONPARAMETERS)},ue.prototype.getPrecision=function(){if(this.checkOpen(),void 0===this.data.precision||this.data.precision===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.precision},ue.prototype.setPrecision=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSPATIALPRECISION)},ue.prototype.resetMagnetometerCorrectionParameters=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_RESETCORRECTIONPARAMETERS)},ue.prototype.saveMagnetometerCorrectionParameters=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_SAVECORRECTIONPARAMETERS)},ue.prototype.zeroAlgorithm=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_ZEROSPATIALALGORITHM)},ue.prototype.zeroGyro=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_ZERO)},ue.prototype.handleAlgorithmDataEvent=function(t){var e=t.get("0"),n=t.get("1");this.onAlgorithmData(e,n)},ue.prototype.handleSpatialDataEvent=function(t){var e=t.get("0"),n=t.get("1"),i=t.get("2"),a=t.get("3");this.onSpatialData(e,n,i,a)},ue.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;default:return!1}};var de=function(){Ut.apply(this,arguments),this.name="Stepper",this["class"]=b.STEPPER,this.onPositionChange=function(t){},this.onVelocityChange=function(t){},this.onStopped=function(){},this.onError=function(t,e){}};de.prototype=Object.create(Ut.prototype),de.prototype.constructor=de,_.Stepper=de,de.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},de.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},de.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,3);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_POSITIONCHANGE:this.handlePositionChangeEvent(t);break;case Ct.BP_STOPPED:this.handleStoppedEvent(t);break;case Ct.BP_VELOCITYCHANGE:this.handleVelocityChangeEvent(t)}return!0},de.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETACCELERATION:return this.data.acceleration=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Acceleration"),!0;case Ct.BP_SETCONTROLMODE:return this.data.controlMode=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("ControlMode"),!0;case Ct.BP_SETCURRENTLIMIT:return this.data.currentLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("CurrentLimit"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETENGAGED:return this.data.engaged=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Engaged"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_SETHOLDINGCURRENTLIMIT:return this.data.holdingCurrentLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("HoldingCurrentLimit"),!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETTARGETPOSITION:return this.data.targetPosition=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TargetPosition"),!0;case Ct.BP_SETVELOCITYLIMIT:return this.data.velocityLimit=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VelocityLimit"),!0}},de.prototype.getControlMode=function(){if(this.checkOpen(),void 0===this.data.controlMode||this.data.controlMode===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.controlMode},de.prototype.setControlMode=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETCONTROLMODE)},de.prototype.getCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.currentLimit||this.data.currentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.currentLimit},de.prototype.setCurrentLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCURRENTLIMIT)},de.prototype.getMinCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.minCurrentLimit||this.data.minCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minCurrentLimit},de.prototype.getMaxCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.maxCurrentLimit||this.data.maxCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxCurrentLimit},de.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},de.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},de.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},de.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},de.prototype.getEngaged=function(){if(this.checkOpen(),void 0===this.data.engaged||this.data.engaged===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.engaged},de.prototype.setEngaged=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),
e.send(this.channel,Ct.BP_SETENGAGED)},de.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},de.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},de.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},de.prototype.getHoldingCurrentLimit=function(){if(this.checkOpen(),void 0===this.data.holdingCurrentLimit||this.data.holdingCurrentLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.holdingCurrentLimit},de.prototype.setHoldingCurrentLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETHOLDINGCURRENTLIMIT)},de.prototype.getIsMoving=function(){if(this.checkOpen(),void 0===this.data.isMoving||this.data.isMoving===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.isMoving},de.prototype.getRescaleFactor=function(){if(this.checkOpen(),void 0===this.data.rescaleFactor||this.data.rescaleFactor===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.rescaleFactor},de.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},de.prototype.handleStoppedEvent=function(t){this.onStopped()},de.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETTARGETPOSITION:case Ct.BP_SETVELOCITYLIMIT:return this.getEngaged()===!0&&0!==this.getVelocityLimit()&&this.getPosition()!==this.getTargetPosition()&&(this.data.isMoving=!0),!1}},de.prototype.getAcceleration=function(){if(this.checkOpen(),void 0===this.data.acceleration||this.data.acceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.acceleration*this.data.rescaleFactor},de.prototype.setAcceleration=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);return n.set({name:"0",type:"g",value:e}),n.send(this.channel,Ct.BP_SETACCELERATION)},de.prototype.getMinAcceleration=function(){if(this.checkOpen(),void 0===this.data.minAcceleration||this.data.minAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minAcceleration*this.data.rescaleFactor},de.prototype.getMaxAcceleration=function(){if(this.checkOpen(),void 0===this.data.maxAcceleration||this.data.maxAcceleration===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxAcceleration*this.data.rescaleFactor},de.prototype.getPosition=function(){if(this.checkOpen(),void 0===this.data.position||this.data.position===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.position+this.data.positionOffset)*this.data.rescaleFactor},de.prototype.getMinPosition=function(){if(this.checkOpen(),void 0===this.data.minPosition||this.data.minPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.minPosition+this.data.positionOffset)*this.data.rescaleFactor},de.prototype.getMaxPosition=function(){if(this.checkOpen(),void 0===this.data.maxPosition||this.data.maxPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.maxPosition+this.data.positionOffset)*this.data.rescaleFactor},de.prototype.setRescaleFactor=function(t){this.checkOpen(),this.data.rescaleFactor=t},de.prototype.getTargetPosition=function(){if(this.checkOpen(),void 0===this.data.targetPosition||this.data.targetPosition===w.DBL)throw new _t(V.UNKNOWN_VALUE);return(this.data.targetPosition+this.data.positionOffset)*this.data.rescaleFactor},de.prototype.setTargetPosition=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor-this.data.positionOffset,n=new Ot(this.channel.conn);return n.set({name:"0",type:"l",value:e}),n.send(this.channel,Ct.BP_SETTARGETPOSITION)},de.prototype.getVelocity=function(){if(this.checkOpen(),void 0===this.data.velocity||this.data.velocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocity*this.data.rescaleFactor},de.prototype.getMaxVelocity=function(){if(this.checkOpen(),void 0===this.data.maxVelocity||this.data.maxVelocity===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVelocity*this.data.rescaleFactor},de.prototype.getVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.velocityLimit||this.data.velocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.velocityLimit*this.data.rescaleFactor},de.prototype.setVelocityLimit=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=t/this.data.rescaleFactor,n=new Ot(this.channel.conn);n.set({name:"0",type:"g",value:e});return n.send(this.channel,Ct.BP_SETVELOCITYLIMIT)},de.prototype.getMaxVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.maxVelocityLimit||this.data.maxVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVelocityLimit*this.data.rescaleFactor},de.prototype.getMinVelocityLimit=function(){if(this.checkOpen(),void 0===this.data.minVelocityLimit||this.data.minVelocityLimit===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVelocityLimit*this.data.rescaleFactor},de.prototype.addPositionOffset=function(t){this.checkOpen(),this.data.positionOffset+=t/this.data.rescaleFactor},de.prototype.handleStoppedEvent=function(t){this.data.isMoving=!1,this.onStopped()},de.prototype.handlePositionChangeEvent=function(t){this.data.position=t.get("0"),this.onPositionChange((this.data.position+this.data.positionOffset)*this.data.rescaleFactor)},de.prototype.handleVelocityChangeEvent=function(t){this.data.velocity=t.get("0"),this.onVelocityChange(this.data.velocity*this.data.rescaleFactor)};var le=function(){Ut.apply(this,arguments),this.name="TemperatureSensor",this["class"]=b.TEMPERATURE_SENSOR,this.onTemperatureChange=function(t){},this.onError=function(t,e){}};le.prototype=Object.create(Ut.prototype),le.prototype.constructor=le,_.TemperatureSensor=le,le.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},le.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},le.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_TEMPERATURECHANGE:this.handleTemperatureChangeEvent(t)}return!0},le.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETRTDTYPE:return this.data.RTDType=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("RTDType"),!0;case Ct.BP_SETRTDWIRESETUP:return this.data.RTDWireSetup=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("RTDWireSetup"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.temperatureChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("TemperatureChangeTrigger"),!0;case Ct.BP_SETTHERMOCOUPLETYPE:return this.data.thermocoupleType=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("ThermocoupleType"),!0}},le.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},le.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},le.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},le.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},le.prototype.getRTDType=function(){if(this.checkOpen(),void 0===this.data.RTDType||this.data.RTDType===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.RTDType},le.prototype.setRTDType=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETRTDTYPE)},le.prototype.getRTDWireSetup=function(){if(this.checkOpen(),void 0===this.data.RTDWireSetup||this.data.RTDWireSetup===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.RTDWireSetup},le.prototype.setRTDWireSetup=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETRTDWIRESETUP)},le.prototype.getTemperature=function(){if(this.checkOpen(),void 0===this.data.temperature||this.data.temperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.temperature},le.prototype.getMinTemperature=function(){if(this.checkOpen(),void 0===this.data.minTemperature||this.data.minTemperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minTemperature},le.prototype.getMaxTemperature=function(){if(this.checkOpen(),void 0===this.data.maxTemperature||this.data.maxTemperature===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxTemperature},le.prototype.getTemperatureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.temperatureChangeTrigger||this.data.temperatureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.temperatureChangeTrigger},le.prototype.setTemperatureChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},le.prototype.getMinTemperatureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minTemperatureChangeTrigger||this.data.minTemperatureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minTemperatureChangeTrigger},le.prototype.getMaxTemperatureChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxTemperatureChangeTrigger||this.data.maxTemperatureChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxTemperatureChangeTrigger},le.prototype.getThermocoupleType=function(){if(this.checkOpen(),void 0===this.data.thermocoupleType||this.data.thermocoupleType===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.thermocoupleType},le.prototype.setThermocoupleType=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETTHERMOCOUPLETYPE)},le.prototype.handleTemperatureChangeEvent=function(t){this.data.temperature=t.get("0"),this.onTemperatureChange(this.data.temperature)};var Ee=function(){Ut.apply(this,arguments),this.name="VoltageInput",this["class"]=b.VOLTAGE_INPUT,this.onVoltageChange=function(t){},this.onSensorChange=function(t,e){},this.onError=function(t,e){}};Ee.prototype=Object.create(Ut.prototype),Ee.prototype.constructor=Ee,_.VoltageInput=Ee,Ee.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Ee.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Ee.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_SENSORCHANGE:this.handleSensorChangeEvent(t);break;case Ct.BP_VOLTAGECHANGE:this.handleVoltageChangeEvent(t)}return!0},Ee.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETPOWERSUPPLY:return this.data.powerSupply=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("PowerSupply"),!0;case Ct.BP_SETSENSORTYPE:return this.data.sensorType=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SensorType"),!0;case Ct.BP_SETSENSORVALUECHANGETRIGGER:return this.data.sensorValueChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SensorValueChangeTrigger"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.voltageChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VoltageChangeTrigger"),!0;case Ct.BP_SETVOLTAGERANGE:return this.data.voltageRange=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VoltageRange"),!0}},Ee.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Ee.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Ee.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Ee.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Ee.prototype.getPowerSupply=function(){if(this.checkOpen(),void 0===this.data.powerSupply||this.data.powerSupply===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.powerSupply},Ee.prototype.setPowerSupply=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETPOWERSUPPLY)},Ee.prototype.getSensorType=function(){if(this.checkOpen(),void 0===this.data.sensorType||this.data.sensorType===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorType},Ee.prototype.setSensorType=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSENSORTYPE)},Ee.prototype.getSensorUnit=function(){if(this.checkOpen(),void 0===this.data.sensorUnit||this.data.sensorUnit===NULL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorUnit},Ee.prototype.getSensorValue=function(){if(this.checkOpen(),void 0===this.data.sensorValue||this.data.sensorValue===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorValue},Ee.prototype.getSensorValueChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.sensorValueChangeTrigger||this.data.sensorValueChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorValueChangeTrigger},Ee.prototype.setSensorValueChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETSENSORVALUECHANGETRIGGER)},Ee.prototype.getVoltage=function(){if(this.checkOpen(),void 0===this.data.voltage||this.data.voltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.voltage},Ee.prototype.getMinVoltage=function(){if(this.checkOpen(),void 0===this.data.minVoltage||this.data.minVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVoltage},Ee.prototype.getMaxVoltage=function(){if(this.checkOpen(),void 0===this.data.maxVoltage||this.data.maxVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVoltage},Ee.prototype.getVoltageChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.voltageChangeTrigger||this.data.voltageChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.voltageChangeTrigger},Ee.prototype.setVoltageChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Ee.prototype.getMinVoltageChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minVoltageChangeTrigger||this.data.minVoltageChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVoltageChangeTrigger},Ee.prototype.getMaxVoltageChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxVoltageChangeTrigger||this.data.maxVoltageChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVoltageChangeTrigger},Ee.prototype.getVoltageRange=function(){if(this.checkOpen(),void 0===this.data.voltageRange||this.data.voltageRange===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.voltageRange},Ee.prototype.setVoltageRange=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETVOLTAGERANGE)},Ee.prototype.handleSensorChangeEvent=function(t){this.data.sensorValue=t.get("0");var e={unit:t.get("UnitInfo.unit"),name:t.get("UnitInfo.name"),symbol:t.get("UnitInfo.symbol")};this.data.sensorUnit=e,this.onSensorChange(this.data.sensorValue,this.data.sensorUnit)},Ee.prototype.handleVoltageChangeEvent=function(t){this.data.voltage=t.get("0"),this.onVoltageChange(this.data.voltage)},Ee.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_MINDATAINTERVALCHANGE:return this.data.minDataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("MinDataInterval"),!0;default:return!1}};var ge=function(){Ut.apply(this,arguments),this.name="VoltageOutput",this["class"]=b.VOLTAGE_OUTPUT,this.onError=function(t,e){}};ge.prototype=Object.create(Ut.prototype),ge.prototype.constructor=ge,_.VoltageOutput=ge,ge.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},ge.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},ge.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,1);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t)}return!0},ge.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETENABLED:return this.data.enabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Enabled"),!0;case Ct.BP_SETFAILSAFETIME:return!0;case Ct.BP_FAILSAFERESET:return!0;case Ct.BP_SETVOLTAGE:return this.data.voltage=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("Voltage"),!0;case Ct.BP_SETVOLTAGERANGE:return this.data.voltageOutputRange=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VoltageOutputRange"),!0}},ge.prototype.setEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENABLED)},ge.prototype.getEnabled=function(){if(this.checkOpen(),void 0===this.data.enabled||this.data.enabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.enabled},ge.prototype.enableFailsafe=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETFAILSAFETIME)},ge.prototype.getMinFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.minFailsafeTime||this.data.minFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minFailsafeTime},ge.prototype.getMaxFailsafeTime=function(){if(this.checkOpen(),void 0===this.data.maxFailsafeTime||this.data.maxFailsafeTime===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxFailsafeTime},ge.prototype.resetFailsafe=function(){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var t=new Ot(this.channel.conn);return t.send(this.channel,Ct.BP_FAILSAFERESET)},ge.prototype.getVoltage=function(){if(this.checkOpen(),void 0===this.data.voltage||this.data.voltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.voltage},ge.prototype.setVoltage=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETVOLTAGE)},ge.prototype.getMinVoltage=function(){if(this.checkOpen(),void 0===this.data.minVoltage||this.data.minVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVoltage},ge.prototype.getMaxVoltage=function(){if(this.checkOpen(),void 0===this.data.maxVoltage||this.data.maxVoltage===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVoltage},ge.prototype.getVoltageOutputRange=function(){if(this.checkOpen(),void 0===this.data.voltageOutputRange||this.data.voltageOutputRange===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.voltageOutputRange},ge.prototype.setVoltageOutputRange=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETVOLTAGERANGE)},ge.prototype.customBridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETVOLTAGERANGE:switch(t.entries[0].v){case ft.VOLTS_10:this.data.minVoltage=-10,this.data.maxVoltage=10;break;case ft.VOLTS_5:this.data.minVoltage=0,this.data.maxVoltage=5}return!1}};var Te=function(){Ut.apply(this,arguments),this.name="VoltageRatioInput",this["class"]=b.VOLTAGE_RATIO_INPUT,this.onVoltageRatioChange=function(t){},this.onSensorChange=function(t,e){},this.onError=function(t,e){}};return Te.prototype=Object.create(Ut.prototype),Te.prototype.constructor=Te,_.VoltageRatioInput=Te,Te.prototype.handleErrorEvent=function(t){this.onError(t.entries[0].v,t.entries[1].v)},Te.prototype.bridgeInput=function(t){var e;if((!this.customBridgeInput||(e=this.customBridgeInput(t),e!==!0))&&(e=this._event(t),e!==!0&&(e=this._bridgeInput(t),e!==!0)))throw new _t(V.INVALID_PACKET,"unsupported bridge packet: 0x"+t.vpkt.toString(16))},Te.prototype._event=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETSTATUS:this.handleSetStatus(t,0);break;case Ct.BP_ERROREVENT:this.handleErrorEvent(t);break;case Ct.BP_SENSORCHANGE:this.handleSensorChangeEvent(t);break;case Ct.BP_VOLTAGERATIOCHANGE:this.handleVoltageRatioChangeEvent(t)}return!0},Te.prototype._bridgeInput=function(t){switch(t.vpkt){default:return!1;case Ct.BP_SETENABLED:return this.data.bridgeEnabled=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("BridgeEnabled"),!0;case Ct.BP_SETBRIDGEGAIN:return this.data.bridgeGain=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("BridgeGain"),!0;case Ct.BP_SETDATAINTERVAL:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_SETSENSORTYPE:return this.data.sensorType=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SensorType"),!0;case Ct.BP_SETSENSORVALUECHANGETRIGGER:return this.data.sensorValueChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("SensorValueChangeTrigger"),!0;case Ct.BP_SETCHANGETRIGGER:return this.data.voltageRatioChangeTrigger=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("VoltageRatioChangeTrigger"),!0}},Te.prototype.getBridgeEnabled=function(){if(this.checkOpen(),void 0===this.data.bridgeEnabled||this.data.bridgeEnabled===w.BOOL)throw new _t(V.UNKNOWN_VALUE);return!!this.data.bridgeEnabled},Te.prototype.setBridgeEnabled=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETENABLED)},Te.prototype.getBridgeGain=function(){if(this.checkOpen(),void 0===this.data.bridgeGain||this.data.bridgeGain===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.bridgeGain},Te.prototype.setBridgeGain=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETBRIDGEGAIN)},Te.prototype.getDataInterval=function(){if(this.checkOpen(),void 0===this.data.dataInterval||this.data.dataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.dataInterval},Te.prototype.setDataInterval=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"u",value:t}),e.send(this.channel,Ct.BP_SETDATAINTERVAL)},Te.prototype.getMinDataInterval=function(){if(this.checkOpen(),void 0===this.data.minDataInterval||this.data.minDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.minDataInterval},Te.prototype.getMaxDataInterval=function(){if(this.checkOpen(),void 0===this.data.maxDataInterval||this.data.maxDataInterval===w.UINT32)throw new _t(V.UNKNOWN_VALUE);return this.data.maxDataInterval},Te.prototype.getSensorType=function(){if(this.checkOpen(),void 0===this.data.sensorType||this.data.sensorType===w.ENUM)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorType},Te.prototype.setSensorType=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"d",value:t}),e.send(this.channel,Ct.BP_SETSENSORTYPE)},Te.prototype.getSensorUnit=function(){if(this.checkOpen(),void 0===this.data.sensorUnit||this.data.sensorUnit===NULL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorUnit},Te.prototype.getSensorValue=function(){if(this.checkOpen(),void 0===this.data.sensorValue||this.data.sensorValue===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorValue},Te.prototype.getSensorValueChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.sensorValueChangeTrigger||this.data.sensorValueChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.sensorValueChangeTrigger},Te.prototype.setSensorValueChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETSENSORVALUECHANGETRIGGER)},Te.prototype.getVoltageRatio=function(){if(this.checkOpen(),void 0===this.data.voltageRatio||this.data.voltageRatio===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.voltageRatio},Te.prototype.getMinVoltageRatio=function(){if(this.checkOpen(),void 0===this.data.minVoltageRatio||this.data.minVoltageRatio===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVoltageRatio},Te.prototype.getMaxVoltageRatio=function(){if(this.checkOpen(),void 0===this.data.maxVoltageRatio||this.data.maxVoltageRatio===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVoltageRatio},Te.prototype.getVoltageRatioChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.voltageRatioChangeTrigger||this.data.voltageRatioChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.voltageRatioChangeTrigger},Te.prototype.setVoltageRatioChangeTrigger=function(t){if(this.isopen!==!0)return N(V.NOT_ATTACHED);var e=new Ot(this.channel.conn);return e.set({name:"0",type:"g",value:t}),e.send(this.channel,Ct.BP_SETCHANGETRIGGER)},Te.prototype.getMinVoltageRatioChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.minVoltageRatioChangeTrigger||this.data.minVoltageRatioChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.minVoltageRatioChangeTrigger},Te.prototype.getMaxVoltageRatioChangeTrigger=function(){if(this.checkOpen(),void 0===this.data.maxVoltageRatioChangeTrigger||this.data.maxVoltageRatioChangeTrigger===w.DBL)throw new _t(V.UNKNOWN_VALUE);return this.data.maxVoltageRatioChangeTrigger},Te.prototype.handleSensorChangeEvent=function(t){this.data.sensorValue=t.get("0");var e={unit:t.get("UnitInfo.unit"),name:t.get("UnitInfo.name"),symbol:t.get("UnitInfo.symbol")};this.data.sensorUnit=e,this.onSensorChange(this.data.sensorValue,this.data.sensorUnit)},Te.prototype.handleVoltageRatioChangeEvent=function(t){this.data.voltageRatio=t.get("0"),this.onVoltageRatioChange(this.data.voltageRatio)},Te.prototype.customBridgeInput=function(t){switch(t.vpkt){case Ct.BP_DATAINTERVALCHANGE:return this.data.dataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("DataInterval"),!0;case Ct.BP_MINDATAINTERVALCHANGE:return this.data.minDataInterval=t.entries[0].v,this.onPropertyChange&&t.local!==!0&&this.onPropertyChange("MinDataInterval"),!0;default:return!1}},_};a?module.exports=new N:window.phidget22=new N}).call(this);